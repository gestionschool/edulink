import{r as y,i as R,f as S,g as b,o as _,a,h as f,w as i,v as l,d as u,j as A}from"./index-CgkLHWAA.js";import{A as M,_ as L}from"./AppLayout-Cj5fvSVX.js";import{_ as z,a as E}from"./CrudModal-Cg6CkTtY.js";import{_ as j}from"./DataTable-Ce5GLHUA.js";const K={class:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors"},O={class:"mx-auto max-w-6xl p-4 sm:p-6"},Q={class:"rounded-xl border border-gray-200 bg-white p-3 shadow-sm dark:border-gray-700 dark:bg-gray-900"},G={class:"grid gap-3 sm:grid-cols-2"},H={class:"text-gray-700 dark:text-gray-200"},J={class:"text-gray-700 dark:text-gray-200"},W={class:"text-gray-700 dark:text-gray-200"},X={class:"text-gray-700 dark:text-gray-200"},Y={class:"text-gray-700 dark:text-gray-200"},Z={class:"text-gray-700 dark:text-gray-200"},dr={__name:"InterrosList",setup(rr){const w=[{key:"titre",label:"Titre"},{key:"type",label:"Type"},{key:"date",label:"Date"},{key:"cours",label:"Cours"},{key:"classe",label:"Classe"},{key:"bareme",label:"Barème"}],t=y({q:"",cours:"",classe:"",date:""}),m=y([]),p=y([]),g=y(!1),o=y({id:null,titre:"",type:"Programmée",date:"",cours:"",classe:"",bareme:10});function k(){m.value=T(),c()}function h(){o.value={id:null,titre:"",type:"Programmée",date:"",cours:"",classe:"",bareme:10},g.value=!0}function C(d){o.value={...d},g.value=!0}async function V(){o.value.id?await U():await $(),g.value=!1,k()}async function $(){}async function U(){}async function q(d){m.value=m.value.filter(r=>r.id!==d.id),c()}function D(){t.value={q:"",cours:"",classe:"",date:""},c()}function n(d){return String(d||"").toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"")}function c(){const d=n(t.value.q),r=n(t.value.cours),e=n(t.value.classe),v=t.value.date;p.value=m.value.filter(s=>{const B=n(`${s.titre} ${s.type} ${s.date} ${s.cours} ${s.classe} ${s.bareme}`),P=d?B.includes(d):!0,F=r?n(s.cours).includes(r):!0,I=e?n(s.classe).includes(e):!0,N=v?s.date===v:!0;return P&&F&&I&&N})}let x;R(t,()=>{clearTimeout(x),x=setTimeout(c,150)},{deep:!0});function T(){return[{id:1,titre:"Interro dérivées",type:"Surprise",date:"2025-10-03",cours:"Math",classe:"6ème A",bareme:10},{id:2,titre:"Interro vocabulaire",type:"Programmée",date:"2025-10-06",cours:"Français",classe:"6ème B",bareme:10},{id:3,titre:"Interro énergie",type:"Programmée",date:"2025-10-10",cours:"Physique",classe:"6ème A",bareme:20}]}return k(),(d,r)=>(_(),S(M,null,{default:b(()=>[a("div",K,[a("div",O,[f(L,{title:"Interrogations"},{actions:b(()=>[a("button",{class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-indigo-500 dark:hover:bg-indigo-600 dark:focus:ring-indigo-400",onClick:r[0]||(r[0]=e=>h())}," Nouvelle ")]),_:1}),f(z,{modelValue:t.value,"onUpdate:modelValue":r[4]||(r[4]=e=>t.value=e),onReset:D},{default:b(()=>[i(a("input",{"onUpdate:modelValue":r[1]||(r[1]=e=>t.value.cours=e),class:"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",placeholder:"Cours…"},null,512),[[l,t.value.cours]]),i(a("input",{"onUpdate:modelValue":r[2]||(r[2]=e=>t.value.classe=e),class:"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",placeholder:"Classe…"},null,512),[[l,t.value.classe]]),i(a("input",{"onUpdate:modelValue":r[3]||(r[3]=e=>t.value.date=e),type:"date",class:"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},null,512),[[l,t.value.date]]),a("button",{class:"rounded-md border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 dark:focus:ring-indigo-400",onClick:c}," Filtrer ")]),_:1},8,["modelValue"]),a("div",Q,[f(j,{rows:p.value,headers:w,idKey:"id",onEdit:C,onRemove:q},null,8,["rows"])]),f(E,{open:g.value,title:o.value.id?"Modifier interrogation":"Créer interrogation",onClose:r[11]||(r[11]=e=>g.value=!1),onSubmit:V},{default:b(()=>[a("div",G,[a("label",H,[r[12]||(r[12]=u(" Titre ",-1)),i(a("input",{"onUpdate:modelValue":r[5]||(r[5]=e=>o.value.titre=e),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[l,o.value.titre]])]),a("label",J,[r[14]||(r[14]=u(" Type ",-1)),i(a("select",{"onUpdate:modelValue":r[6]||(r[6]=e=>o.value.type=e),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},[...r[13]||(r[13]=[a("option",null,"Surprise",-1),a("option",null,"Programmée",-1)])],512),[[A,o.value.type]])]),a("label",W,[r[15]||(r[15]=u(" Date ",-1)),i(a("input",{"onUpdate:modelValue":r[7]||(r[7]=e=>o.value.date=e),type:"date",class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[l,o.value.date]])]),a("label",X,[r[16]||(r[16]=u(" Cours ",-1)),i(a("input",{"onUpdate:modelValue":r[8]||(r[8]=e=>o.value.cours=e),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[l,o.value.cours]])]),a("label",Y,[r[17]||(r[17]=u(" Classe ",-1)),i(a("input",{"onUpdate:modelValue":r[9]||(r[9]=e=>o.value.classe=e),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[l,o.value.classe]])]),a("label",Z,[r[18]||(r[18]=u(" Barème ",-1)),i(a("input",{"onUpdate:modelValue":r[10]||(r[10]=e=>o.value.bareme=e),type:"number",min:"1",class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},null,512),[[l,o.value.bareme,void 0,{number:!0}]])])])]),_:1},8,["open","title"])])])]),_:1}))}};export{dr as default};
