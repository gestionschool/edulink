import{c as a,o,a as e,l as k,t as h,r as y,p as R,q as T,s as F,h as p,g as v,b as C,x as B,e as $,n as f,T as D,y as K,z as U,A as w,f as z,B as G,C as W,u as Y,D as E,d as b,E as g,R as V,G as J,F as H,m as N}from"./index-CgkLHWAA.js";const Q={class:"mb-6 flex items-center justify-between"},X={class:"text-xl font-semibold text-gray-900 dark:text-gray-100"},Ve={__name:"PageHeader",props:{title:{type:String,required:!0}},setup(r){return(l,s)=>(o(),a("div",Q,[e("h1",X,h(r.title),1),k(l.$slots,"actions")]))}},P=(r,l)=>{const s=r.__vccOpts||r;for(const[u,t]of l)s[u]=t;return s},Z=["onKeydown"],ee=["aria-expanded"],te=["onKeydown"],se={class:"rounded-md border border-gray-200 bg-white py-1 shadow-lg ring-1 ring-black/5 dark:border-gray-700 dark:bg-gray-800"},re={__name:"Dropdown",props:{align:{type:String,default:"right"},closeOnItemClick:{type:Boolean,default:!0}},emits:["open-change"],setup(r,{emit:l}){const s=r,u=l,t=y(!1),c=y(null),d=y(null);function n(){t.value=!t.value,x()}function m(){t.value&&(t.value=!1,u("open-change",!1))}function x(){u("open-change",t.value),t.value&&K(j)}function A(i){c.value&&(c.value.contains(i.target)||m())}function M(){const i=d.value?.querySelectorAll("[data-dropdown-item]");return i?Array.from(i):[]}function j(){M()[0]?.focus()}function q(){const i=M();if(!i.length)return;const _=i.findIndex(S=>S===document.activeElement);i[(_+1)%i.length]?.focus()}function O(){const i=M();if(!i.length)return;const _=i.findIndex(S=>S===document.activeElement);i[(_-1+i.length)%i.length]?.focus()}return R("dropdownClose",()=>{s.closeOnItemClick&&m()}),T(()=>document.addEventListener("click",A)),F(()=>document.removeEventListener("click",A)),(i,_)=>(o(),a("div",{class:"relative inline-block text-left",ref_key:"root",ref:c,onKeydown:B($(m,["stop","prevent"]),["esc"])},[e("div",{onClick:n,"aria-haspopup":"menu","aria-expanded":t.value.toString()},[k(i.$slots,"trigger",{open:t.value,toggle:n},void 0,!0)],8,ee),p(D,{name:"fade-scale"},{default:v(()=>[t.value?(o(),a("div",{key:0,ref_key:"menu",ref:d,class:f(["absolute z-50 mt-2 min-w-[12rem]",r.align==="left"?"left-0":"right-0"]),role:"menu","aria-orientation":"vertical",onKeydown:[B($(q,["prevent"]),["down"]),B($(O,["prevent"]),["up"])]},[e("div",se,[k(i.$slots,"default",{},void 0,!0)])],42,te)):C("",!0)]),_:3})],40,Z))}},ne=P(re,[["__scopeId","data-v-8677d102"]]),L={__name:"DropdownItem",props:{as:{type:[String,Object],default:"button"},to:{type:[String,Object],default:null},href:{type:String,default:null},close:{type:Boolean,default:!0}},emits:["select"],setup(r,{emit:l}){const s=r,u=l,t=U("dropdownClose",null),c=w(()=>s.as==="a"&&s.href?{href:s.href}:s.to?{to:s.to}:{type:"button"});function d(n){u("select",n),s.close&&t&&t()}return(n,m)=>(o(),z(W(r.as),G(c.value,{class:"flex w-full items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 focus:bg-gray-100 focus:outline-none dark:text-gray-200 dark:hover:bg-gray-700 dark:focus:bg-gray-700",role:"menuitem","data-dropdown-item":"",onClick:d}),{default:v(()=>[k(n.$slots,"default")]),_:3},16))}},oe={class:"h-16 sticky top-0 z-30 flex items-center justify-between gap-3 border-b border-gray-200 bg-white px-4 dark:border-gray-800 dark:bg-gray-900"},le={class:"flex items-center gap-2"},ae={class:"flex items-center gap-2"},ie=["aria-expanded"],de={class:"hidden sm:inline"},ue={class:"h-6 w-6 rounded-full bg-indigo-500 inline-flex items-center justify-center text-white text-xs"},ce={__name:"Navbar",props:{dark:{type:Boolean,default:!1}},setup(r){const l=Y(),s=E(),u=w(()=>s.user??{name:"Admin"}),t=w(()=>(u.value.name||"A").split(" ").map(d=>d[0]).join("").slice(0,2).toUpperCase());function c(){s.logout?.(),l.replace("/")}return(d,n)=>(o(),a("header",oe,[e("div",le,[e("button",{class:"md:hidden inline-flex h-9 w-9 items-center justify-center rounded-md border border-gray-300 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:border-gray-700 dark:hover:bg-gray-800 dark:focus:ring-indigo-400",onClick:n[0]||(n[0]=m=>d.$emit("toggle-sidebar")),"aria-label":"Ouvrir le menu"},[...n[1]||(n[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M4 6h16v2H4V6zm0 5h16v2H4v-2zm0 5h16v2H4v-2z"})],-1)])]),p(g(V),{to:"/",class:"md:hidden text-sm font-semibold"},{default:v(()=>[...n[2]||(n[2]=[b("Edulink",-1)])]),_:1})]),e("div",ae,[p(ne,{align:"right"},{trigger:v(({open:m})=>[e("button",{class:"inline-flex items-center gap-2 rounded-md border border-gray-300 px-3 py-1.5 text-sm hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:border-gray-700 dark:hover:bg-gray-800 dark:focus:ring-indigo-400","aria-expanded":m.toString()},[e("span",de,h(u.value.name),1),e("span",ue,h(t.value),1),n[3]||(n[3]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 opacity-70",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M7 10l5 5 5-5z"})],-1))],8,ie)]),default:v(()=>[p(L,{as:"RouterLink",to:"/profile"},{default:v(()=>[...n[4]||(n[4]=[b(" Profil ",-1)])]),_:1}),p(L,{as:"RouterLink",to:"/settings"},{default:v(()=>[...n[5]||(n[5]=[b(" Paramètres ",-1)])]),_:1}),n[7]||(n[7]=e("div",{class:"my-1 border-t border-gray-200 dark:border-gray-700"},null,-1)),p(L,{onSelect:c},{default:v(()=>[...n[6]||(n[6]=[b(" Déconnexion ",-1)])]),_:1})]),_:1})])]))}},ge={__name:"AppIcon",props:{name:{type:String,required:!0},class:{type:String,default:""}},setup(r){const s=r.class||"h-5 w-5";return(u,t)=>r.name==="home"?(o(),a("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",class:f(g(s)),viewBox:"0 0 24 24",fill:"currentColor"},[...t[0]||(t[0]=[e("path",{d:"M3 12l9-9 9 9-1.5 1.5L12 5.5 4.5 13.5 3 12z"},null,-1),e("path",{d:"M4.5 13.5V21h6v-5h3v5h6v-7.5L12 6z"},null,-1)])],2)):r.name==="users"?(o(),a("svg",{key:1,xmlns:"http://www.w3.org/2000/svg",class:f(g(s)),viewBox:"0 0 24 24",fill:"currentColor"},[...t[1]||(t[1]=[e("path",{d:"M16 11a3 3 0 100-6 3 3 0 000 6zM8 11a3 3 0 100-6 3 3 0 000 6z"},null,-1),e("path",{d:"M8 13c-2.67 0-8 1.34-8 4v3h12v-3c0-2.66-5.33-4-8-4zm16 4c0-2.66-5.33-4-8-4-.7 0-1.37.04-2 .12 2.39 1.03 4 2.58 4 4.88v3h6v-4z"},null,-1)])],2)):r.name==="student"?(o(),a("svg",{key:2,xmlns:"http://www.w3.org/2000/svg",class:f(g(s)),viewBox:"0 0 24 24",fill:"currentColor"},[...t[2]||(t[2]=[e("path",{d:"M12 3l9 4.5-9 4.5L3 7.5 12 3z"},null,-1),e("path",{d:"M4.5 8.5V12c0 3.5 3.5 6.5 7.5 6.5s7.5-3 7.5-6.5V8.5L12 11z"},null,-1)])],2)):r.name==="classroom"?(o(),a("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",class:f(g(s)),viewBox:"0 0 24 24",fill:"currentColor"},[...t[3]||(t[3]=[e("path",{d:"M4 6h16v10H4z"},null,-1),e("path",{d:"M2 18h20v2H2zM7 8h6v2H7z"},null,-1)])],2)):r.name==="book"?(o(),a("svg",{key:4,xmlns:"http://www.w3.org/2000/svg",class:f(g(s)),viewBox:"0 0 24 24",fill:"currentColor"},[...t[4]||(t[4]=[e("path",{d:"M6 4h9a3 3 0 013 3v11H9a3 3 0 00-3 3V4z"},null,-1),e("path",{d:"M9 18h9"},null,-1)])],2)):r.name==="task"?(o(),a("svg",{key:5,xmlns:"http://www.w3.org/2000/svg",class:f(g(s)),viewBox:"0 0 24 24",fill:"currentColor"},[...t[5]||(t[5]=[e("path",{d:"M9 11l3 3L21 5l-2-2-7 7-3-3-2 2z"},null,-1),e("path",{d:"M3 21h18v-2H3v2z"},null,-1)])],2)):r.name==="quiz"?(o(),a("svg",{key:6,xmlns:"http://www.w3.org/2000/svg",class:f(g(s)),viewBox:"0 0 24 24",fill:"currentColor"},[...t[6]||(t[6]=[e("path",{d:"M12 2a10 10 0 100 20 10 10 0 000-20zM11 17h2v-2h-2v2zm1-11a3 3 0 00-3 3h2a1 1 0 112 0c0 .7-.64 1.16-1.5 1.75C10.45 11.45 10 12 10 13v1h2v-1c0-.5.11-.69.5-1 1.16-.9 2.5-1.84 2.5-3.5A3 3 0 0012 6z"},null,-1)])],2)):r.name==="calendar"?(o(),a("svg",{key:7,xmlns:"http://www.w3.org/2000/svg",class:f(g(s)),viewBox:"0 0 24 24",fill:"currentColor"},[...t[7]||(t[7]=[e("path",{d:"M7 2v2H5a2 2 0 00-2 2v2h18V6a2 2 0 00-2-2h-2V2h-2v2H9V2H7z"},null,-1),e("path",{d:"M21 10H3v10a2 2 0 002 2h14a2 2 0 002-2V10z"},null,-1)])],2)):r.name==="shield"?(o(),a("svg",{key:8,xmlns:"http://www.w3.org/2000/svg",class:f(g(s)),viewBox:"0 0 24 24",fill:"currentColor"},[...t[8]||(t[8]=[e("path",{d:"M12 2l8 4v6c0 5-3.5 9.74-8 11-4.5-1.26-8-6-8-11V6l8-4z"},null,-1),e("path",{d:"M12 6v12"},null,-1)])],2)):r.name==="plus"?(o(),a("svg",{key:9,xmlns:"http://www.w3.org/2000/svg",class:f(g(s)),viewBox:"0 0 24 24",fill:"currentColor"},[...t[9]||(t[9]=[e("path",{d:"M11 5h2v6h6v2h-6v6h-2v-6H5v-2h6z"},null,-1)])],2)):C("",!0)}},fe={__name:"NavItem",props:{to:{type:String,required:!0},prefix:{type:String,required:!0},label:{type:String,required:!0},icon:{type:String,default:""}},emits:["navigate"],setup(r){const l=r,s=J(),u=w(()=>s.path.startsWith(l.prefix)),t=w(()=>["group flex items-center gap-2 rounded-md px-3 py-2 text-sm font-medium transition-colors",u.value?"bg-indigo-50 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-300":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800"]);return(c,d)=>(o(),z(g(V),{to:r.to,class:f(t.value),onClick:d[0]||(d[0]=n=>c.$emit("navigate"))},{default:v(()=>[r.icon?(o(),z(ge,{key:0,name:r.icon,class:"h-5 w-5"},null,8,["name"])):C("",!0),e("span",null,h(r.label),1)]),_:1},8,["to","class"]))}},pe={class:"h-full flex flex-col"},me={class:"px-4 h-16 flex items-center border-b border-gray-200 dark:border-gray-800"},ve={class:"flex-1 overflow-y-auto py-3"},he={class:"px-2 mb-2 text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400"},xe={class:"space-y-1"},I={__name:"Sidebar",setup(r){const l=[{title:"Général",items:[{to:"/dashboard",prefix:"/dashboard",label:"Tableau de bord",icon:"home"},{to:"/professeurs",prefix:"/professeurs",label:"Professeurs",icon:"users"},{to:"/etudiants",prefix:"/etudiants",label:"Étudiants",icon:"student"},{to:"/classes",prefix:"/classes",label:"Classes",icon:"classroom"}]},{title:"Pédagogie",items:[{to:"/cours",prefix:"/cours",label:"Cours",icon:"book"},{to:"/devoirs",prefix:"/devoirs",label:"Devoirs",icon:"task"},{to:"/interros",prefix:"/interros",label:"Interrogations",icon:"quiz"}]},{title:"Périodicité",items:[{to:"/admin/periodes",prefix:"/admin/periodes",label:"Périodes",icon:"calendar",roles:["admin","gestion"]},{to:"/admin/semestres",prefix:"/admin/semestres",label:"Semestres",icon:"calendar",roles:["admin","gestion"]}]},{title:"Administration",items:[{to:"/admin/utilisateurs",prefix:"/admin/utilisateurs",label:"Utilisateurs",icon:"shield",roles:["admin"]},{to:"/admin/creer-compte",prefix:"/admin/creer-compte",label:"Créer un compte",icon:"plus",roles:["admin"]}]}],s=E(),u=w(()=>s.user?.role||"gestion"),t=w(()=>l.map(d=>({...d,items:d.items.filter(n=>n.roles?n.roles.includes(u.value):!0)})).filter(d=>d.items.length>0));function c(){}return(d,n)=>(o(),a("div",pe,[e("div",me,[p(g(V),{to:"/",class:"flex items-center gap-2 text-lg font-semibold"},{default:v(()=>[...n[0]||(n[0]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M12 3l8 4.5v9L12 21l-8-4.5v-9L12 3zm0 2.309L6 8v8l6 3.309L18 16V8l-6-2.691z"})],-1),e("span",null,"Edulink",-1)])]),_:1})]),e("nav",ve,[(o(!0),a(H,null,N(t.value,m=>(o(),a("div",{key:m.title,class:"px-3 py-2"},[e("div",he,h(m.title),1),e("div",xe,[(o(!0),a(H,null,N(m.items,x=>(o(),z(fe,{key:x.to,to:x.to,prefix:x.prefix,label:x.label,icon:x.icon,onNavigate:c},null,8,["to","prefix","label","icon"]))),128))])]))),128))])]))}},we={class:"w-full border-t border-gray-200 bg-white px-4 py-3 text-xs text-gray-500 dark:border-gray-800 dark:bg-gray-900 dark:text-gray-400"},be={class:"flex flex-col sm:flex-row items-center justify-between gap-2"},ye={class:"font-semibold"},ke={__name:"AppFooter",props:{appName:{type:String,default:"Edulink"},version:{type:String,default:"1.0"}},setup(r){return(l,s)=>(o(),a("footer",we,[e("div",be,[e("p",null,[b(" © "+h(new Date().getFullYear())+" ",1),e("span",ye,h(r.appName),1),s[0]||(s[0]=b(". Tous droits réservés. ",-1))]),e("p",null," v"+h(r.version),1)])]))}},_e={class:"h-screen bg-slate-50 dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100"},$e={class:"flex h-full"},ze={class:"hidden md:block w-64 lg:w-72 shrink-0 border-r border-gray-200 dark:border-neutral-800"},Ce={class:"absolute inset-y-0 left-0 w-72 bg-white dark:bg-neutral-900 border-r border-gray-200 dark:border-neutral-800 shadow-xl"},Me={class:"flex-1 min-w-0 flex flex-col min-h-0"},Se={class:"flex-1 min-h-0 overflow-auto"},Be={__name:"AppLayout",setup(r){const l=y(!1);y(!1);function s(){l.value=!1}return(u,t)=>(o(),a("div",_e,[e("div",$e,[e("aside",ze,[p(I,{onNavigate:s})]),p(D,{name:"fade"},{default:v(()=>[l.value?(o(),a("div",{key:0,class:"fixed inset-0 z-40 bg-black/50 md:hidden",onClick:t[1]||(t[1]=$(c=>l.value=!1,["self"]))},[e("aside",Ce,[p(I,{onNavigate:t[0]||(t[0]=c=>l.value=!1)})])])):C("",!0)]),_:1}),e("div",Me,[p(ce,{onToggleSidebar:t[2]||(t[2]=c=>l.value=!0)}),e("main",Se,[k(u.$slots,"default",{},void 0,!0)]),p(ke,{appName:"Edulink",version:"1.0"})])])]))}},Ae=P(Be,[["__scopeId","data-v-d66be62c"]]);export{Ae as A,Ve as _};
