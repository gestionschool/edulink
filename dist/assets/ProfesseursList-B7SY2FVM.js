import{r as b,f as x,g as D,o as u,h as m,a as t,i as f,w as s,c as p,F as w,j as h,t as L,k as c,d as g,v as y}from"./index-sHYk9eTQ.js";import{u as P}from"./school-D6Cy93US.js";import{_ as R}from"./PageHeader-D6nut-bz.js";import{_ as z,a as I}from"./CrudModal-CzlkyKPl.js";import{_ as O}from"./DataTable-DtU7qz5G.js";import{A as j}from"./AppLayout-BRMBkRdv.js";const K={class:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors"},Q={class:"mx-auto max-w-6xl p-4 sm:p-6"},G=["value"],H={class:"rounded-xl border border-gray-200 bg-white p-3 shadow-sm dark:border-gray-700 dark:bg-gray-900"},J={class:"grid gap-3 sm:grid-cols-2"},W={class:"text-gray-700 dark:text-gray-200"},X={class:"text-gray-700 dark:text-gray-200"},Y={class:"text-gray-700 dark:text-gray-200"},Z={class:"text-gray-700 dark:text-gray-200"},ee={id:"matiere-list"},re=["value"],te={class:"text-gray-700 dark:text-gray-200"},ue={__name:"ProfesseursList",setup(oe){const n=P(),V=[{key:"nom",label:"Nom"},{key:"prenom",label:"Prénom"},{key:"email",label:"Email"},{key:"matiere",label:"Matière"},{key:"statut",label:"Statut"}],a=b({q:"",matiere:"",statut:""}),k=x(()=>n.uniqueMatieres),$=x(()=>{const i=v(a.value.q),e=a.value.matiere,r=a.value.statut;return n.teachers.filter(d=>{const E=v(`${d.nom} ${d.prenom} ${d.email} ${d.matiere} ${d.statut}`),T=i?E.includes(i):!0,_=e?d.matiere===e:!0,B=r?d.statut===r:!0;return T&&_&&B})}),l=b(!1),o=b({id:null,nom:"",prenom:"",email:"",matiere:"",statut:"Actif"});function S(){a.value={q:"",matiere:"",statut:""}}function M(){o.value={id:null,nom:"",prenom:"",email:"",matiere:"",statut:"Actif"},l.value=!0}function q(i){o.value={...i},l.value=!0}function U(){o.value.id?N():C(),l.value=!1}function C(){n.addTeacher({...o.value})}function N(){n.updateTeacher({...o.value})}function A(i){n.removeTeacher(i.id)}function v(i){return String(i||"").toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"")}function F(){}return(i,e)=>(u(),D(j,null,{default:m(()=>[t("div",K,[t("div",Q,[f(R,{title:"Professeurs"},{actions:m(()=>[t("button",{class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-indigo-500 dark:hover:bg-indigo-600 dark:focus:ring-indigo-400",onClick:e[0]||(e[0]=r=>M())}," Nouveau ")]),_:1}),f(z,{modelValue:a.value,"onUpdate:modelValue":e[3]||(e[3]=r=>a.value=r),onReset:S},{default:m(()=>[s(t("select",{"onUpdate:modelValue":e[1]||(e[1]=r=>a.value.matiere=r),class:"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},[e[13]||(e[13]=t("option",{value:""},"Matière",-1)),(u(!0),p(w,null,h(k.value,r=>(u(),p("option",{key:r,value:r},L(r),9,G))),128))],512),[[c,a.value.matiere]]),s(t("select",{"onUpdate:modelValue":e[2]||(e[2]=r=>a.value.statut=r),class:"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},[...e[14]||(e[14]=[t("option",{value:""},"Statut",-1),t("option",null,"Actif",-1),t("option",null,"Inactif",-1)])],512),[[c,a.value.statut]]),t("button",{class:"rounded-md border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 dark:focus:ring-indigo-400",onClick:F}," Filtrer ")]),_:1},8,["modelValue"]),t("div",H,[f(O,{rows:$.value,headers:V,idKey:"id",onEdit:e[4]||(e[4]=r=>q(r)),onRemove:e[5]||(e[5]=r=>A(r))},null,8,["rows"])]),f(I,{open:l.value,title:o.value.id?"Modifier professeur":"Créer professeur",onClose:e[11]||(e[11]=r=>l.value=!1),onSubmit:e[12]||(e[12]=r=>U())},{default:m(()=>[t("div",J,[t("label",W,[e[15]||(e[15]=g(" Nom ",-1)),s(t("input",{"onUpdate:modelValue":e[6]||(e[6]=r=>o.value.nom=r),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[y,o.value.nom]])]),t("label",X,[e[16]||(e[16]=g(" Prénom ",-1)),s(t("input",{"onUpdate:modelValue":e[7]||(e[7]=r=>o.value.prenom=r),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[y,o.value.prenom]])]),t("label",Y,[e[17]||(e[17]=g(" Email ",-1)),s(t("input",{"onUpdate:modelValue":e[8]||(e[8]=r=>o.value.email=r),type:"email",class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[y,o.value.email]])]),t("label",Z,[e[18]||(e[18]=g(" Matière ",-1)),s(t("input",{"onUpdate:modelValue":e[9]||(e[9]=r=>o.value.matiere=r),list:"matiere-list",class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},null,512),[[y,o.value.matiere]]),t("datalist",ee,[(u(!0),p(w,null,h(k.value,r=>(u(),p("option",{key:r,value:r},null,8,re))),128))])]),t("label",te,[e[20]||(e[20]=g(" Statut ",-1)),s(t("select",{"onUpdate:modelValue":e[10]||(e[10]=r=>o.value.statut=r),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},[...e[19]||(e[19]=[t("option",null,"Actif",-1),t("option",null,"Inactif",-1)])],512),[[c,o.value.statut]])])])]),_:1},8,["open","title"])])])]),_:1}))}};export{ue as default};
