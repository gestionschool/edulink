import{r as l,l as U,g as N,o as O,h as b,a as t,i as f,w as n,v as y,d as u,k as v}from"./index-sHYk9eTQ.js";import{_ as R}from"./PageHeader-D6nut-bz.js";import{_ as T,a as B}from"./CrudModal-CzlkyKPl.js";import{_ as L}from"./DataTable-DtU7qz5G.js";import{A as M}from"./AppLayout-BRMBkRdv.js";const z={class:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors"},E={class:"mx-auto max-w-6xl p-4 sm:p-6"},K={class:"rounded-xl border border-gray-200 bg-white p-3 shadow-sm dark:border-gray-700 dark:bg-gray-900"},Q={class:"grid gap-3 sm:grid-cols-2"},j={class:"text-gray-700 dark:text-gray-200"},G={class:"text-gray-700 dark:text-gray-200"},H={class:"text-gray-700 dark:text-gray-200"},I={class:"text-gray-700 dark:text-gray-200"},J={class:"text-gray-700 dark:text-gray-200"},re={__name:"AdminSemestresList",setup(P){const x=[{key:"semestre",label:"Semestre"},{key:"annee",label:"Année"},{key:"dateDebut",label:"Début"},{key:"dateFin",label:"Fin"},{key:"etat",label:"État"}],d=l({q:"",annee:""}),g=l([]),c=l([]),s=l(!1),a=l({id:null,semestre:"S1",annee:"",dateDebut:"",dateFin:"",etat:"Ouvert"});function p(){g.value=C(),i()}function w(){a.value={id:null,semestre:"S1",annee:"",dateDebut:"",dateFin:"",etat:"Ouvert"},s.value=!0}function D(o){a.value={...o},s.value=!0}async function F(){a.value.id?await h():await S(),s.value=!1,p()}async function S(){}async function h(){}async function V(o){g.value=g.value.filter(e=>e.id!==o.id),i()}function $(){d.value={q:"",annee:""},i()}function m(o){return String(o||"").toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"")}function i(){const o=m(d.value.q),e=m(d.value.annee);c.value=g.value.filter(r=>{const _=m(`${r.semestre} ${r.annee} ${r.dateDebut} ${r.dateFin} ${r.etat}`),A=o?_.includes(o):!0,q=e?m(r.annee).includes(e):!0;return A&&q})}let k;U(d,()=>{clearTimeout(k),k=setTimeout(i,150)},{deep:!0});function C(){return[{id:1,semestre:"S1",annee:"2025-2026",dateDebut:"2025-09-01",dateFin:"2026-01-31",etat:"Ouvert"},{id:2,semestre:"S2",annee:"2025-2026",dateDebut:"2026-02-01",dateFin:"2026-06-30",etat:"Clos"}]}return p(),(o,e)=>(O(),N(M,null,{default:b(()=>[t("div",z,[t("div",E,[f(R,{title:"Semestres"},{actions:b(()=>[t("button",{class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-indigo-500 dark:hover:bg-indigo-600 dark:focus:ring-indigo-400",onClick:e[0]||(e[0]=r=>w())}," Nouveau ")]),_:1}),f(T,{modelValue:d.value,"onUpdate:modelValue":e[2]||(e[2]=r=>d.value=r),onReset:$},{default:b(()=>[n(t("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>d.value.annee=r),placeholder:"Année scolaire…",class:"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},null,512),[[y,d.value.annee]]),t("button",{class:"rounded-md border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 dark:focus:ring-indigo-400",onClick:i}," Filtrer ")]),_:1},8,["modelValue"]),t("div",K,[f(L,{rows:c.value,headers:x,idKey:"id",onEdit:D,onRemove:V},null,8,["rows"])]),f(B,{open:s.value,title:a.value.id?"Modifier semestre":"Créer semestre",onClose:e[8]||(e[8]=r=>s.value=!1),onSubmit:F},{default:b(()=>[t("div",Q,[t("label",j,[e[10]||(e[10]=u(" Semestre ",-1)),n(t("select",{"onUpdate:modelValue":e[3]||(e[3]=r=>a.value.semestre=r),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},[...e[9]||(e[9]=[t("option",null,"S1",-1),t("option",null,"S2",-1)])],512),[[v,a.value.semestre]])]),t("label",G,[e[11]||(e[11]=u(" Année ",-1)),n(t("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>a.value.annee=r),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[y,a.value.annee]])]),t("label",H,[e[12]||(e[12]=u(" Début ",-1)),n(t("input",{"onUpdate:modelValue":e[5]||(e[5]=r=>a.value.dateDebut=r),type:"date",class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[y,a.value.dateDebut]])]),t("label",I,[e[13]||(e[13]=u(" Fin ",-1)),n(t("input",{"onUpdate:modelValue":e[6]||(e[6]=r=>a.value.dateFin=r),type:"date",class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[y,a.value.dateFin]])]),t("label",J,[e[15]||(e[15]=u(" État ",-1)),n(t("select",{"onUpdate:modelValue":e[7]||(e[7]=r=>a.value.etat=r),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},[...e[14]||(e[14]=[t("option",null,"Ouvert",-1),t("option",null,"Clos",-1)])],512),[[v,a.value.etat]])])])]),_:1},8,["open","title"])])])]),_:1}))}};export{re as default};
