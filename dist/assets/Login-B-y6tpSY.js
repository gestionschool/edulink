import{m as u,u as E,R as o,a as f,b as s,k as i,I as p,z as g,G as x,j as v,o as w}from"./index-Dl0Akbo7.js";const y={class:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-950"},k={__name:"Login",setup(R){const r=u("admin@demo.test"),a=u("demo"),m=x(),n=v(),d=E(),c={[o.ADMIN_GENERALE]:"/dashboard",[o.ADMIN_ECOLE]:"/dashboard",[o.PROFESSEUR]:"/cours",[o.ELEVE]:"/devoirs",[o.PARENT_TUTEUR]:"/devoirs"};async function b(){try{await d.login(r.value,a.value);const t=typeof n.query.redirect=="string"?n.query.redirect:null,e=c[d.role]||"/dashboard";m.replace(t||e)}catch(t){console.error("Login error:",t)}}return(t,e)=>(w(),f("div",y,[s("form",{onSubmit:g(b,["prevent"]),class:"w-full max-w-sm p-6 rounded-xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800"},[e[2]||(e[2]=s("h1",{class:"text-xl font-semibold mb-4"},"Connexion",-1)),i(s("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>r.value=l),type:"email",class:"w-full mb-2 px-3 py-2 rounded border dark:bg-slate-800",placeholder:"Email (ex: super@demo.test)"},null,512),[[p,r.value]]),i(s("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>a.value=l),type:"password",class:"w-full mb-4 px-3 py-2 rounded border dark:bg-slate-800",placeholder:"Mot de passe"},null,512),[[p,a.value]]),e[3]||(e[3]=s("button",{class:"w-full py-2 rounded bg-indigo-600 text-white"},"Se connecter",-1))],32)]))}};export{k as default};
