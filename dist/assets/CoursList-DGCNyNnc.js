import{r as v,a as r,b as t,z as k,k as u,I as m,J as f,F as a,h as c,f as n,x as h,o as d,t as l}from"./index-C5nwF8dZ.js";import{u as _}from"./school-CTfOjOI2.js";const y={class:"space-y-5"},I={class:"flex flex-col sm:flex-row sm:items-end sm:justify-between gap-4"},V=["value"],C=["value"],M=["value"],S={class:"sm:hidden space-y-3"},U={class:"flex items-start justify-between gap-3"},q={class:"min-w-0"},P={class:"font-semibold truncate"},A={class:"text-sm text-slate-600 dark:text-slate-400 truncate"},N={class:"text-xs text-slate-500 dark:text-slate-400 mt-1"},j=["onClick"],B={key:0,class:"rounded-xl border dark:border-slate-800 p-4 text-center text-slate-500"},D={class:"hidden sm:block overflow-x-auto rounded-xl border dark:border-slate-800"},F={class:"min-w-full text-sm"},L={class:"p-3 font-medium"},T={class:"p-3 hidden md:table-cell truncate"},$={class:"p-3 hidden lg:table-cell truncate"},z={class:"p-3"},E={class:"p-3 truncate"},J={class:"p-3 hidden xl:table-cell"},O={class:"p-3 text-right"},G=["onClick"],H={key:0},W={__name:"CoursList",setup(K){const i=_(),o=v({code:"",matiere:"",intitule:"",classeId:0,teacherId:0,periodeId:0,volume:0});function w(){const{code:b,matiere:s,intitule:e,classeId:p,teacherId:x,periodeId:g}=o;!b||!s||!e||!p||!x||!g||(i.addCours({...o,classeId:Number(p),teacherId:Number(x),periodeId:Number(g)}),Object.assign(o,{code:"",matiere:"",intitule:"",classeId:0,teacherId:0,periodeId:0,volume:0}))}return(b,s)=>(d(),r("section",y,[t("header",I,[s[11]||(s[11]=t("div",null,[t("h1",{class:"text-xl font-semibold"},"Cours / Matières"),t("p",{class:"text-sm text-slate-500 dark:text-slate-400"},"Affectations par classe & professeur")],-1)),t("form",{onSubmit:k(w,["prevent"]),class:"flex flex-wrap gap-2"},[u(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>o.code=e),placeholder:"Code (ex: MAT101)",class:"w-full sm:w-auto sm:flex-1 min-w-[160px] px-3 py-2 rounded border dark:bg-slate-900 focus:outline-none focus:ring-2 focus:ring-indigo-500/50",required:""},null,512),[[m,o.code]]),u(t("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>o.matiere=e),placeholder:"Matière",class:"w-full sm:w-auto sm:flex-1 min-w-[160px] px-3 py-2 rounded border dark:bg-slate-900 focus:outline-none focus:ring-2 focus:ring-indigo-500/50",required:""},null,512),[[m,o.matiere]]),u(t("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>o.intitule=e),placeholder:"Intitulé",class:"w-full sm:w-auto sm:flex-1 min-w-[200px] px-3 py-2 rounded border dark:bg-slate-900 focus:outline-none focus:ring-2 focus:ring-indigo-500/50",required:""},null,512),[[m,o.intitule]]),u(t("select",{"onUpdate:modelValue":s[3]||(s[3]=e=>o.classeId=e),class:"w-full sm:w-auto min-w-[160px] px-3 py-2 rounded border dark:bg-slate-900 focus:outline-none focus:ring-2 focus:ring-indigo-500/50",required:""},[s[7]||(s[7]=t("option",{value:0,disabled:""},"— Classe —",-1)),(d(!0),r(a,null,c(n(i).classesView,e=>(d(),r("option",{key:e.id,value:e.id},l(e.libelle),9,V))),128))],512),[[f,o.classeId,void 0,{number:!0}]]),u(t("select",{"onUpdate:modelValue":s[4]||(s[4]=e=>o.teacherId=e),class:"w-full sm:w-auto min-w-[180px] px-3 py-2 rounded border dark:bg-slate-900 focus:outline-none focus:ring-2 focus:ring-indigo-500/50",required:""},[s[8]||(s[8]=t("option",{value:0,disabled:""},"— Professeur —",-1)),(d(!0),r(a,null,c(n(i).teachers,e=>(d(),r("option",{key:e.id,value:e.id},l(e.nom)+" ("+l(e.matiere)+")",9,C))),128))],512),[[f,o.teacherId,void 0,{number:!0}]]),u(t("select",{"onUpdate:modelValue":s[5]||(s[5]=e=>o.periodeId=e),class:"w-full sm:w-auto min-w-[160px] px-3 py-2 rounded border dark:bg-slate-900 focus:outline-none focus:ring-2 focus:ring-indigo-500/50",required:""},[s[9]||(s[9]=t("option",{value:0,disabled:""},"— Période —",-1)),(d(!0),r(a,null,c(n(i).periodes,e=>(d(),r("option",{key:e.id,value:e.id},l(e.label),9,M))),128))],512),[[f,o.periodeId,void 0,{number:!0}]]),u(t("input",{"onUpdate:modelValue":s[6]||(s[6]=e=>o.volume=e),type:"number",min:"0",placeholder:"Volume",class:"w-full sm:w-28 px-3 py-2 rounded border dark:bg-slate-900 focus:outline-none focus:ring-2 focus:ring-indigo-500/50"},null,512),[[m,o.volume,void 0,{number:!0}]]),s[10]||(s[10]=t("button",{class:"w-full sm:w-auto px-3 py-2 rounded bg-indigo-600 text-white hover:bg-indigo-700 transition"}," Ajouter ",-1))],32)]),t("ul",S,[(d(!0),r(a,null,c(n(i).coursView,e=>(d(),r("li",{key:e.id,class:"rounded-xl border dark:border-slate-800 bg-white dark:bg-slate-900 p-4"},[t("div",U,[t("div",q,[t("h3",P,l(e.code)+" • "+l(e.intitule),1),t("p",A,l(e.matiere)+" — "+l(e.classe),1),t("p",N," Prof: "+l(e.professeur)+" • Période: "+l(e.periode),1)]),t("button",{class:"shrink-0 text-red-600 hover:underline",onClick:p=>n(i).removeCours(e.id)}," Supprimer ",8,j)])]))),128)),n(i).coursView.length?h("",!0):(d(),r("li",B," Aucun cours "))]),t("div",D,[t("table",F,[s[13]||(s[13]=t("thead",{class:"bg-slate-50 dark:bg-slate-900/50"},[t("tr",{class:"text-left"},[t("th",{class:"p-3"},"Code"),t("th",{class:"p-3 hidden md:table-cell"},"Intitulé"),t("th",{class:"p-3 hidden lg:table-cell"},"Matière"),t("th",{class:"p-3"},"Classe"),t("th",{class:"p-3"},"Professeur"),t("th",{class:"p-3 hidden xl:table-cell"},"Période"),t("th",{class:"p-3 w-1"})])],-1)),t("tbody",null,[(d(!0),r(a,null,c(n(i).coursView,e=>(d(),r("tr",{key:e.id,class:"border-t dark:border-slate-800"},[t("td",L,l(e.code),1),t("td",T,l(e.intitule),1),t("td",$,l(e.matiere),1),t("td",z,l(e.classe),1),t("td",E,l(e.professeur),1),t("td",J,l(e.periode),1),t("td",O,[t("button",{class:"text-red-600 hover:underline",onClick:p=>n(i).removeCours(e.id)},"Supprimer",8,G)])]))),128)),n(i).coursView.length?h("",!0):(d(),r("tr",H,[...s[12]||(s[12]=[t("td",{colspan:"7",class:"p-4 text-center text-slate-500"},"Aucun cours",-1)])]))])])])]))}};export{W as default};
