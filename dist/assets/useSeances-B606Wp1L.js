import{a as s,o as a,b as o,F as u,h as c,t as i,S as b,f as x,k as H,x as C,P as N,Q as w}from"./index-BVVU7ImF.js";const $={class:"relative"},j={class:"translate-y-[-6px]"},M=["onClick"],A={class:"font-semibold truncate"},F={class:"opacity-90"},V={key:0},B={class:"flex items-center justify-between border-t border-slate-100 px-3 py-2 text-xs dark:border-slate-800"},f=48/60,L={__name:"WeekGrid",props:{sessions:{type:Array,default:()=>[]},startHour:{type:Number,default:7},endHour:{type:Number,default:18},days:{type:Array,default:()=>["Lun","Mar","Mer","Jeu","Ven","Sam"]},startDay:{type:Number,default:1}},emits:["create","edit"],setup(l){const d=l,p=Array.from({length:d.endHour-d.startHour},(e,t)=>t+d.startHour),k=(d.endHour-d.startHour)*60;function y(e){const[t,n]=String(e).split(":").map(Number);return t*60+n}function h(e){return(y(e)-d.startHour*60)*f}function v(e,t){return(y(t)-y(e))*f}function g(e){return(d.sessions||[]).filter(t=>Number(t.jour)===Number(e))}function S(e){return{top:h(e.start)+"px",height:v(e.start,e.end)+"px"}}return(e,t)=>(a(),s("div",{class:"w-full overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm dark:border-slate-800 dark:bg-slate-900",style:b({"--time-col":"64px","--cols":l.days.length,"--total-mins":k,"--minute-h":f+"px"})},[o("div",{class:"grid border-b border-slate-100 dark:border-slate-800",style:b({gridTemplateColumns:`var(--time-col) repeat(${l.days.length}, 1fr)`})},[t[1]||(t[1]=o("div",{class:"h-12"},null,-1)),(a(!0),s(u,null,c(l.days,(n,m)=>(a(),s("div",{key:m,class:"h-12 flex items-center justify-center text-sm font-medium"},i(n),1))),128))],4),o("div",{class:"grid",style:b({gridTemplateColumns:`var(--time-col) repeat(${l.days.length}, 1fr)`})},[o("div",$,[(a(!0),s(u,null,c(x(p),n=>(a(),s("div",{key:n,class:"h-[48px] flex items-start justify-end pr-2 text-xs text-slate-500 dark:text-slate-400"},[o("span",j,i(n)+":00",1)]))),128))]),(a(!0),s(u,null,c(l.days,(n,m)=>(a(),s("div",{key:m,class:"relative border-l border-slate-100 dark:border-slate-800"},[(a(!0),s(u,null,c(x(p),r=>(a(),s("div",{key:r,class:"h-[48px] border-b border-dashed border-slate-100 dark:border-slate-800"}))),128)),(a(!0),s(u,null,c(g(m+l.startDay),r=>(a(),s("div",{key:r.id,class:"absolute left-1 right-1 rounded-md border px-2 py-1 text-xs shadow-sm bg-violet-600 text-white border-violet-500 dark:bg-violet-500 dark:border-violet-400",style:b(S(r)),onClick:E=>e.$emit("edit",r)},[o("div",A,i(r.label||r.matiere||r.intitule||"Séance"),1),o("div",F,[H(i(r.start)+"–"+i(r.end)+" ",1),r.salle?(a(),s("span",V,"• "+i(r.salle),1)):C("",!0)])],12,M))),128))]))),128))],4),o("div",B,[t[2]||(t[2]=o("span",{class:"text-slate-500 dark:text-slate-400"},"Cliquer une séance pour modifier",-1)),o("button",{class:"rounded-md border border-violet-200 bg-violet-600 px-2 py-1 text-white dark:border-violet-900",onClick:t[0]||(t[0]=n=>e.$emit("create"))},"Ajouter une séance")])],4))}},D=N("seances"),_=w("seances",D);export{L as _,_ as u};
