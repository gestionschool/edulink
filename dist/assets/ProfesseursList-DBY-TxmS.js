import{r as u,i as R,f as D,g as f,o as E,a as r,h as y,w as n,j as b,d as g,v as p}from"./index-CgkLHWAA.js";import{A as T,_ as B}from"./AppLayout-Cj5fvSVX.js";import{_ as I,a as L}from"./CrudModal-Cg6CkTtY.js";import{_ as j}from"./DataTable-Ce5GLHUA.js";const z={class:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors"},K={class:"mx-auto max-w-6xl p-4 sm:p-6"},J={class:"rounded-xl border border-gray-200 bg-white p-3 shadow-sm dark:border-gray-700 dark:bg-gray-900"},O={class:"grid gap-3 sm:grid-cols-2"},Q={class:"text-gray-700 dark:text-gray-200"},G={class:"text-gray-700 dark:text-gray-200"},H={class:"text-gray-700 dark:text-gray-200"},W={class:"text-gray-700 dark:text-gray-200"},X={class:"text-gray-700 dark:text-gray-200"},te={__name:"ProfesseursList",setup(Y){const w=[{key:"nom",label:"Nom"},{key:"prenom",label:"Prénom"},{key:"email",label:"Email"},{key:"matiere",label:"Matière"},{key:"statut",label:"Statut"}],a=u({q:"",matiere:"",statut:""}),m=u([]),c=u([]),s=u(!1),o=u({id:null,nom:"",prenom:"",email:"",matiere:"",statut:"Actif"});function k(){m.value=N(),l()}function h(){a.value={q:"",matiere:"",statut:""},l()}function V(){o.value={id:null,nom:"",prenom:"",email:"",matiere:"",statut:"Actif"},s.value=!0}function $(i){o.value={...i},s.value=!0}async function M(){o.value.id?await S():await q(),s.value=!1,k()}async function q(){}async function S(){}async function A(i){m.value=m.value.filter(e=>e.id!==i.id),l()}function v(i){return String(i||"").toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"")}function l(){const i=v(a.value.q),e=a.value.matiere,t=a.value.statut;c.value=m.value.filter(d=>{const U=v(`${d.nom} ${d.prenom} ${d.email} ${d.matiere} ${d.statut}`),C=i?U.includes(i):!0,P=e?d.matiere===e:!0,F=t?d.statut===t:!0;return C&&P&&F})}let x;R(a,()=>{clearTimeout(x),x=setTimeout(l,150)},{deep:!0});function N(){return[{id:1,nom:"Kabeya",prenom:"Paul",email:"paul@ecole.com",matiere:"Math",statut:"Actif"},{id:2,nom:"Ngoma",prenom:"Sophie",email:"sophie@ecole.com",matiere:"Physique",statut:"Actif"},{id:3,nom:"Mbuyi",prenom:"Jean",email:"jean@ecole.com",matiere:"Français",statut:"Inactif"}]}return k(),(i,e)=>(E(),D(T,null,{default:f(()=>[r("div",z,[r("div",K,[y(B,{title:"Professeurs"},{actions:f(()=>[r("button",{class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-indigo-500 dark:hover:bg-indigo-600 dark:focus:ring-indigo-400",onClick:e[0]||(e[0]=t=>V())}," Nouveau ")]),_:1}),y(I,{modelValue:a.value,"onUpdate:modelValue":e[3]||(e[3]=t=>a.value=t),onReset:h},{default:f(()=>[n(r("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>a.value.matiere=t),class:"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},[...e[13]||(e[13]=[r("option",{value:""},"Matière",-1),r("option",null,"Math",-1),r("option",null,"Physique",-1),r("option",null,"Français",-1)])],512),[[b,a.value.matiere]]),n(r("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>a.value.statut=t),class:"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},[...e[14]||(e[14]=[r("option",{value:""},"Statut",-1),r("option",null,"Actif",-1),r("option",null,"Inactif",-1)])],512),[[b,a.value.statut]]),r("button",{class:"rounded-md border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 dark:focus:ring-indigo-400",onClick:l}," Filtrer ")]),_:1},8,["modelValue"]),r("div",J,[y(j,{rows:c.value,headers:w,idKey:"id",onEdit:e[4]||(e[4]=t=>$(t)),onRemove:e[5]||(e[5]=t=>A(t))},null,8,["rows"])]),y(L,{open:s.value,title:o.value.id?"Modifier professeur":"Créer professeur",onClose:e[11]||(e[11]=t=>s.value=!1),onSubmit:e[12]||(e[12]=t=>M())},{default:f(()=>[r("div",O,[r("label",Q,[e[15]||(e[15]=g(" Nom ",-1)),n(r("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.value.nom=t),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[p,o.value.nom]])]),r("label",G,[e[16]||(e[16]=g(" Prénom ",-1)),n(r("input",{"onUpdate:modelValue":e[7]||(e[7]=t=>o.value.prenom=t),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[p,o.value.prenom]])]),r("label",H,[e[17]||(e[17]=g(" Email ",-1)),n(r("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.value.email=t),type:"email",class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[p,o.value.email]])]),r("label",W,[e[18]||(e[18]=g(" Matière ",-1)),n(r("input",{"onUpdate:modelValue":e[9]||(e[9]=t=>o.value.matiere=t),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},null,512),[[p,o.value.matiere]])]),r("label",X,[e[20]||(e[20]=g(" Statut ",-1)),n(r("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.value.statut=t),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},[...e[19]||(e[19]=[r("option",null,"Actif",-1),r("option",null,"Inactif",-1)])],512),[[b,o.value.statut]])])])]),_:1},8,["open","title"])])])]),_:1}))}};export{te as default};
