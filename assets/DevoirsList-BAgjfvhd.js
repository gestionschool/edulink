import{r as m,i as L,f as z,g as y,o as E,a as r,h as f,w as s,v as l,j as p,d as n}from"./index-CgkLHWAA.js";import{A as j,_ as K}from"./AppLayout-Cj5fvSVX.js";import{_ as O,a as Q}from"./CrudModal-Cg6CkTtY.js";import{_ as G}from"./DataTable-Ce5GLHUA.js";const H={class:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors"},I={class:"mx-auto max-w-6xl p-4 sm:p-6"},J={class:"rounded-xl border border-gray-200 bg-white p-3 shadow-sm dark:border-gray-700 dark:bg-gray-900"},W={class:"grid gap-3 sm:grid-cols-2"},X={class:"text-gray-700 dark:text-gray-200"},Y={class:"text-gray-700 dark:text-gray-200"},Z={class:"text-gray-700 dark:text-gray-200"},_={class:"text-gray-700 dark:text-gray-200"},ee={class:"text-gray-700 dark:text-gray-200"},re={class:"text-gray-700 dark:text-gray-200"},ie={__name:"DevoirsList",setup(oe){const C=[{key:"titre",label:"Titre"},{key:"cours",label:"Cours"},{key:"classe",label:"Classe"},{key:"dateRemise",label:"Remise"},{key:"bareme",label:"Barème"},{key:"statut",label:"Statut"}],a=m({q:"",cours:"",classe:"",periode:"",statut:""}),b=m([]),k=m([]),g=m(!1),t=m({id:null,titre:"",cours:"",classe:"",dateRemise:"",bareme:20,statut:"Publié"});function v(){b.value=D(),c()}function R(){t.value={id:null,titre:"",cours:"",classe:"",dateRemise:"",bareme:20,statut:"Publié"},g.value=!0}function V(i){t.value={...i},g.value=!0}async function T(){t.value.id?await P():await $(),g.value=!1,v()}async function $(){}async function P(){}async function U(i){b.value=b.value.filter(e=>e.id!==i.id),c()}function q(){a.value={q:"",cours:"",classe:"",periode:"",statut:""},c()}function u(i){return String(i||"").toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"")}function c(){const i=u(a.value.q),e=u(a.value.cours),o=u(a.value.classe),w=a.value.periode,h=a.value.statut;k.value=b.value.filter(d=>{const S=u(`${d.titre} ${d.cours} ${d.classe} ${d.dateRemise} ${d.bareme} ${d.statut} ${d.periode||""}`),A=i?S.includes(i):!0,B=e?u(d.cours).includes(e):!0,F=o?u(d.classe).includes(o):!0,M=w?d.periode===w:!0,N=h?d.statut===h:!0;return A&&B&&F&&M&&N})}let x;L(a,()=>{clearTimeout(x),x=setTimeout(c,150)},{deep:!0});function D(){return[{id:1,titre:"DM1 - Fonctions",cours:"Math",classe:"6ème A",dateRemise:"2025-10-05",bareme:20,statut:"Publié",periode:"T1"},{id:2,titre:"TP – Cinématique",cours:"Physique",classe:"6ème A",dateRemise:"2025-10-10",bareme:20,statut:"Publié",periode:"T1"},{id:3,titre:"Rédaction 1",cours:"Français",classe:"6ème B",dateRemise:"2025-11-02",bareme:10,statut:"Archivé",periode:"T2"}]}return v(),(i,e)=>(E(),z(j,null,{default:y(()=>[r("div",H,[r("div",I,[f(K,{title:"Devoirs"},{actions:y(()=>[r("button",{class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-indigo-500 dark:hover:bg-indigo-600 dark:focus:ring-indigo-400",onClick:e[0]||(e[0]=o=>R())}," Nouveau ")]),_:1}),f(O,{modelValue:a.value,"onUpdate:modelValue":e[5]||(e[5]=o=>a.value=o),onReset:q},{default:y(()=>[s(r("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>a.value.cours=o),placeholder:"Cours…",class:"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},null,512),[[l,a.value.cours]]),s(r("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>a.value.classe=o),placeholder:"Classe…",class:"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},null,512),[[l,a.value.classe]]),s(r("select",{"onUpdate:modelValue":e[3]||(e[3]=o=>a.value.periode=o),class:"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},[...e[13]||(e[13]=[r("option",{value:""},"Période",-1),r("option",null,"T1",-1),r("option",null,"T2",-1),r("option",null,"T3",-1)])],512),[[p,a.value.periode]]),s(r("select",{"onUpdate:modelValue":e[4]||(e[4]=o=>a.value.statut=o),class:"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},[...e[14]||(e[14]=[r("option",{value:""},"Statut",-1),r("option",null,"Publié",-1),r("option",null,"Archivé",-1)])],512),[[p,a.value.statut]]),r("button",{class:"rounded-md border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 dark:focus:ring-indigo-400",onClick:c}," Filtrer ")]),_:1},8,["modelValue"]),r("div",J,[f(G,{rows:k.value,headers:C,idKey:"id",onEdit:V,onRemove:U},null,8,["rows"])]),f(Q,{open:g.value,title:t.value.id?"Modifier devoir":"Créer devoir",onClose:e[12]||(e[12]=o=>g.value=!1),onSubmit:T},{default:y(()=>[r("div",W,[r("label",X,[e[15]||(e[15]=n(" Titre ",-1)),s(r("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>t.value.titre=o),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[l,t.value.titre]])]),r("label",Y,[e[16]||(e[16]=n(" Cours ",-1)),s(r("input",{"onUpdate:modelValue":e[7]||(e[7]=o=>t.value.cours=o),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[l,t.value.cours]])]),r("label",Z,[e[17]||(e[17]=n(" Classe ",-1)),s(r("input",{"onUpdate:modelValue":e[8]||(e[8]=o=>t.value.classe=o),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[l,t.value.classe]])]),r("label",_,[e[18]||(e[18]=n(" Date de remise ",-1)),s(r("input",{"onUpdate:modelValue":e[9]||(e[9]=o=>t.value.dateRemise=o),type:"date",class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[l,t.value.dateRemise]])]),r("label",ee,[e[19]||(e[19]=n(" Barème ",-1)),s(r("input",{"onUpdate:modelValue":e[10]||(e[10]=o=>t.value.bareme=o),type:"number",min:"1",class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},null,512),[[l,t.value.bareme,void 0,{number:!0}]])]),r("label",re,[e[21]||(e[21]=n(" Statut ",-1)),s(r("select",{"onUpdate:modelValue":e[11]||(e[11]=o=>t.value.statut=o),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},[...e[20]||(e[20]=[r("option",null,"Publié",-1),r("option",null,"Archivé",-1)])],512),[[p,t.value.statut]])])])]),_:1},8,["open","title"])])])]),_:1}))}};export{ie as default};
