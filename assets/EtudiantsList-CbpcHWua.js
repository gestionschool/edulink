import{r as m,i as E,f as N,g as p,o as K,a as r,h as y,w as s,j as f,d as n,v as i}from"./index-CgkLHWAA.js";import{A as R,_ as z}from"./AppLayout-Cj5fvSVX.js";import{_ as F,a as L}from"./CrudModal-Cg6CkTtY.js";import{_ as P}from"./DataTable-Ce5GLHUA.js";const I={class:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors"},j={class:"mx-auto max-w-6xl p-4 sm:p-6"},J={class:"rounded-xl border border-gray-200 bg-white p-3 shadow-sm dark:border-gray-700 dark:bg-gray-900"},O={class:"grid gap-3 sm:grid-cols-2"},Q={class:"text-gray-700 dark:text-gray-200"},_={class:"text-gray-700 dark:text-gray-200"},G={class:"text-gray-700 dark:text-gray-200"},H={class:"text-gray-700 dark:text-gray-200"},W={class:"text-gray-700 dark:text-gray-200"},X={class:"text-gray-700 dark:text-gray-200"},Y={class:"text-gray-700 dark:text-gray-200"},ae={__name:"EtudiantsList",setup(Z){const w=[{key:"matricule",label:"Matricule"},{key:"nom",label:"Nom"},{key:"prenom",label:"Prénom"},{key:"classe",label:"Classe"},{key:"tuteur",label:"Tuteur"},{key:"telephone",label:"Téléphone"},{key:"statut",label:"Statut"}],a=m({q:"",classe:"",statut:""}),c=m([]),b=m([]),u=m(!1),o=m({id:null,matricule:"",nom:"",prenom:"",classe:"",tuteur:"",telephone:"",statut:"Actif"});function k(){c.value=M(),g()}function h(){o.value={id:null,matricule:"",nom:"",prenom:"",classe:"",tuteur:"",telephone:"",statut:"Actif"},u.value=!0}function V(d){o.value={...d},u.value=!0}async function A(){o.value.id?await S():await C(),u.value=!1,k()}async function C(){}async function S(){}async function T(d){c.value=c.value.filter(e=>e.id!==d.id),g()}function $(){a.value={q:"",classe:"",statut:""},g()}function x(d){return String(d||"").toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"")}function g(){const d=x(a.value.q),e=a.value.classe,t=a.value.statut;b.value=c.value.filter(l=>{const U=x(`${l.matricule} ${l.nom} ${l.prenom} ${l.classe} ${l.tuteur} ${l.telephone}`),q=d?U.includes(d):!0,B=e?l.classe===e:!0,D=t?l.statut===t:!0;return q&&B&&D})}let v;E(a,()=>{clearTimeout(v),v=setTimeout(g,150)},{deep:!0});function M(){return[{id:1,matricule:"ETD001",nom:"Kazi",prenom:"Mira",classe:"6ème A",tuteur:"Mme K.",telephone:"+243 970 000 001",statut:"Actif"},{id:2,matricule:"ETD002",nom:"Banza",prenom:"Joël",classe:"6ème A",tuteur:"M. B.",telephone:"+243 970 000 002",statut:"Suspendu"},{id:3,matricule:"ETD003",nom:"Ilunga",prenom:"Sarah",classe:"6ème B",tuteur:"Mme I.",telephone:"+243 970 000 003",statut:"Actif"},{id:4,matricule:"ETD004",nom:"Kasongo",prenom:"Peter",classe:"6ème B",tuteur:"M. K.",telephone:"+243 970 000 004",statut:"Actif"}]}return k(),(d,e)=>(K(),N(R,null,{default:p(()=>[r("div",I,[r("div",j,[y(z,{title:"Étudiants"},{actions:p(()=>[r("button",{class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-indigo-500 dark:hover:bg-indigo-600 dark:focus:ring-indigo-400",onClick:e[0]||(e[0]=t=>h())}," Nouveau ")]),_:1}),y(F,{modelValue:a.value,"onUpdate:modelValue":e[3]||(e[3]=t=>a.value=t),onReset:$},{default:p(()=>[s(r("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>a.value.classe=t),class:"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},[...e[12]||(e[12]=[r("option",{value:""},"Classe",-1),r("option",null,"6ème A",-1),r("option",null,"6ème B",-1)])],512),[[f,a.value.classe]]),s(r("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>a.value.statut=t),class:"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},[...e[13]||(e[13]=[r("option",{value:""},"Statut",-1),r("option",null,"Actif",-1),r("option",null,"Suspendu",-1)])],512),[[f,a.value.statut]]),r("button",{class:"rounded-md border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 dark:focus:ring-indigo-400",onClick:g}," Filtrer ")]),_:1},8,["modelValue"]),r("div",J,[y(P,{rows:b.value,headers:w,idKey:"id",onEdit:V,onRemove:T},null,8,["rows"])]),y(L,{open:u.value,title:o.value.id?"Modifier étudiant":"Créer étudiant",onClose:e[11]||(e[11]=t=>u.value=!1),onSubmit:A},{default:p(()=>[r("div",O,[r("label",Q,[e[14]||(e[14]=n(" Matricule ",-1)),s(r("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.value.matricule=t),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[i,o.value.matricule]])]),r("label",_,[e[15]||(e[15]=n(" Nom ",-1)),s(r("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>o.value.nom=t),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[i,o.value.nom]])]),r("label",G,[e[16]||(e[16]=n(" Prénom ",-1)),s(r("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.value.prenom=t),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[i,o.value.prenom]])]),r("label",H,[e[17]||(e[17]=n(" Classe ",-1)),s(r("input",{"onUpdate:modelValue":e[7]||(e[7]=t=>o.value.classe=t),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[i,o.value.classe]])]),r("label",W,[e[18]||(e[18]=n(" Tuteur ",-1)),s(r("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.value.tuteur=t),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},null,512),[[i,o.value.tuteur]])]),r("label",X,[e[19]||(e[19]=n(" Téléphone ",-1)),s(r("input",{"onUpdate:modelValue":e[9]||(e[9]=t=>o.value.telephone=t),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},null,512),[[i,o.value.telephone]])]),r("label",Y,[e[21]||(e[21]=n(" Statut ",-1)),s(r("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.value.statut=t),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},[...e[20]||(e[20]=[r("option",null,"Actif",-1),r("option",null,"Suspendu",-1)])],512),[[f,o.value.statut]])])])]),_:1},8,["open","title"])])])]),_:1}))}};export{ae as default};
