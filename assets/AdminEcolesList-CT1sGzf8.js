import{m as R,r as g,g as q,o as p,h as m,a as r,i as f,c as _,b as $,n as B,w as s,v as n,d as c}from"./index-sHYk9eTQ.js";import{_ as F}from"./PageHeader-D6nut-bz.js";import{_ as K,a as M}from"./CrudModal-CzlkyKPl.js";import{_ as N}from"./DataTable-DtU7qz5G.js";import{A as U}from"./AppLayout-BRMBkRdv.js";const P={class:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors"},S={class:"mx-auto max-w-6xl p-4 sm:p-6"},G={class:"rounded-xl border border-gray-200 bg-white p-3 shadow-sm dark:border-gray-700 dark:bg-gray-900"},T={class:"grid sm:grid-cols-2 gap-3"},I={class:"text-gray-700 dark:text-gray-200"},O={class:"text-gray-700 dark:text-gray-200"},Q={class:"text-gray-700 dark:text-gray-200"},j={class:"text-gray-700 dark:text-gray-200"},Z={__name:"AdminEcolesList",setup(z){const{canManageSchools:t}=R(),b=[{key:"nom",label:"Nom"},{key:"pays",label:"Pays"},{key:"fuseau",label:"Fuseau"},{key:"adminEmail",label:"Admin (Direction)"}],o=g({q:"",pays:"",fuseau:""}),l=g([]),u=g(!1),i=g({id:null,nom:"",pays:"",fuseau:"Africa/Lubumbashi",adminEmail:""});function y(){l.value=E().filter(k)}function k(d){const a=(o.value.q||"").toLowerCase(),e=!a||[d.nom,d.pays,d.fuseau,d.adminEmail].some(V=>String(V).toLowerCase().includes(a)),L=!o.value.pays||d.pays===o.value.pays,D=!o.value.fuseau||d.fuseau.includes(o.value.fuseau);return e&&L&&D}function v(){i.value={id:null,nom:"",pays:"",fuseau:"Africa/Lubumbashi",adminEmail:""},u.value=!0}function x(d){t.value&&(i.value={...d},u.value=!0)}async function h(){t.value&&(i.value.id?A():w(),u.value=!1,y())}async function w(){}async function A(){}async function C(d){t.value&&(l.value=l.value.filter(a=>a.id!==d.id))}function E(){return[{id:1,nom:"Lycée Mwamba",pays:"RDC",fuseau:"Africa/Lubumbashi",adminEmail:"direction@mwamba.edu"},{id:2,nom:"Collège Saint Michel",pays:"RDC",fuseau:"Africa/Kinshasa",adminEmail:"admin@saintmichel.edu"},{id:3,nom:"École Internationale de Kinshasa",pays:"RDC",fuseau:"Africa/Kinshasa",adminEmail:"contact@eikin.edu"},{id:4,nom:"Lycée Français de Lubumbashi",pays:"RDC",fuseau:"Africa/Lubumbashi",adminEmail:"direction@lyceefrancais.edu"},{id:5,nom:"École Belge de Kinshasa",pays:"RDC",fuseau:"Africa/Kinshasa",adminEmail:"info@ecolebelge.edu"},{id:6,nom:"Institut Maman Diange",pays:"RDC",fuseau:"Africa/Lubumbashi",adminEmail:"admin@mamandiange.edu"},{id:7,nom:"École Privée Les Petits Génies",pays:"RDC",fuseau:"Africa/Kinshasa",adminEmail:"contact@petitsgenies.edu"},{id:8,nom:"Lycée Technique de Goma",pays:"RDC",fuseau:"Africa/Goma",adminEmail:"direction@lyceetech.edu"},{id:9,nom:"École Moderne de Bukavu",pays:"RDC",fuseau:"Africa/Bukavu",adminEmail:"admin@ecolemoderne.edu"}]}return y(),(d,a)=>(p(),q(U,null,{default:m(()=>[r("div",P,[r("div",S,[f(F,{title:"Écoles"},{actions:m(()=>[B(t)?(p(),_("button",{key:0,class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-indigo-500 dark:hover:bg-indigo-600 dark:focus:ring-indigo-400",onClick:a[0]||(a[0]=e=>v())},"Nouvelle")):$("",!0)]),_:1}),f(K,{modelValue:o.value,"onUpdate:modelValue":a[4]||(a[4]=e=>o.value=e),onReset:a[5]||(a[5]=e=>o.value={q:"",pays:"",fuseau:""})},{default:m(()=>[s(r("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>o.value.pays=e),class:"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",placeholder:"Pays…"},null,512),[[n,o.value.pays]]),s(r("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>o.value.fuseau=e),class:"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",placeholder:"Fuseau (ex: Africa/Lubumbashi)"},null,512),[[n,o.value.fuseau]]),r("button",{class:"rounded-md border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 dark:focus:ring-indigo-400",onClick:a[3]||(a[3]=e=>y())},"Filtrer")]),_:1},8,["modelValue"]),r("div",G,[f(N,{rows:l.value,headers:b,idKey:"id",onEdit:x,onRemove:C},null,8,["rows"])]),f(M,{open:u.value,title:i.value.id?"Modifier école":"Créer école",onClose:a[10]||(a[10]=e=>u.value=!1),onSubmit:h},{default:m(()=>[r("div",T,[r("label",I,[a[11]||(a[11]=c(" Nom ",-1)),s(r("input",{"onUpdate:modelValue":a[6]||(a[6]=e=>i.value.nom=e),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[n,i.value.nom]])]),r("label",O,[a[12]||(a[12]=c(" Pays ",-1)),s(r("input",{"onUpdate:modelValue":a[7]||(a[7]=e=>i.value.pays=e),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[n,i.value.pays]])]),r("label",Q,[a[13]||(a[13]=c(" Fuseau horaire ",-1)),s(r("input",{"onUpdate:modelValue":a[8]||(a[8]=e=>i.value.fuseau=e),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",placeholder:"Africa/Lubumbashi",required:""},null,512),[[n,i.value.fuseau]])]),r("label",j,[a[14]||(a[14]=c(" Admin (Direction) - email ",-1)),s(r("input",{"onUpdate:modelValue":a[9]||(a[9]=e=>i.value.adminEmail=e),type:"email",class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[n,i.value.adminEmail]])])])]),_:1},8,["open","title"])])])]),_:1}))}};export{Z as default};
