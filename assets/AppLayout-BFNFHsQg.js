import{r as k,B as q,C as F,D as T,c as a,o as n,a as t,i as m,x as M,h,b as N,E as $,e as _,p,T as O,G as K,H as U,f as b,g as C,I as J,J as W,u as Y,K as V,d as y,n as f,R as I,t as w,z as Q,L as l,F as D,j as B}from"./index-BjUAzvaQ.js";const H=(r,i)=>{const s=r.__vccOpts||r;for(const[c,e]of i)s[c]=e;return s},X=["onKeydown"],Z=["aria-expanded"],ee=["onKeydown"],te={class:"rounded-md border border-gray-200 bg-white py-1 shadow-lg ring-1 ring-black/5 dark:border-gray-700 dark:bg-gray-800"},se={__name:"Dropdown",props:{align:{type:String,default:"right"},closeOnItemClick:{type:Boolean,default:!0}},emits:["open-change"],setup(r,{emit:i}){const s=r,c=i,e=k(!1),g=k(null),u=k(null);function o(){e.value=!e.value,x()}function v(){e.value&&(e.value=!1,c("open-change",!1))}function x(){c("open-change",e.value),e.value&&K(G)}function S(d){g.value&&(g.value.contains(d.target)||v())}function A(){const d=u.value?.querySelectorAll("[data-dropdown-item]");return d?Array.from(d):[]}function G(){A()[0]?.focus()}function P(){const d=A();if(!d.length)return;const E=d.findIndex(L=>L===document.activeElement);d[(E+1)%d.length]?.focus()}function j(){const d=A();if(!d.length)return;const E=d.findIndex(L=>L===document.activeElement);d[(E-1+d.length)%d.length]?.focus()}return q("dropdownClose",()=>{s.closeOnItemClick&&v()}),F(()=>document.addEventListener("click",S)),T(()=>document.removeEventListener("click",S)),(d,E)=>(n(),a("div",{class:"relative inline-block text-left",ref_key:"root",ref:g,onKeydown:$(_(v,["stop","prevent"]),["esc"])},[t("div",{onClick:o,"aria-haspopup":"menu","aria-expanded":e.value.toString()},[M(d.$slots,"trigger",{open:e.value,toggle:o},void 0,!0)],8,Z),m(O,{name:"fade-scale"},{default:h(()=>[e.value?(n(),a("div",{key:0,ref_key:"menu",ref:u,class:p(["absolute z-50 mt-2 min-w-[12rem]",r.align==="left"?"left-0":"right-0"]),role:"menu","aria-orientation":"vertical",onKeydown:[$(_(P,["prevent"]),["down"]),$(_(j,["prevent"]),["up"])]},[t("div",te,[M(d.$slots,"default",{},void 0,!0)])],42,ee)):N("",!0)]),_:3})],40,X))}},re=H(se,[["__scopeId","data-v-8677d102"]]),z={__name:"DropdownItem",props:{as:{type:[String,Object],default:"button"},to:{type:[String,Object],default:null},href:{type:String,default:null},close:{type:Boolean,default:!0}},emits:["select"],setup(r,{emit:i}){const s=r,c=i,e=U("dropdownClose",null),g=b(()=>s.as==="a"&&s.href?{href:s.href}:s.to?{to:s.to}:{type:"button"});function u(o){c("select",o),s.close&&e&&e()}return(o,v)=>(n(),C(W(r.as),J(g.value,{class:"flex w-full items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 focus:bg-gray-100 focus:outline-none dark:text-gray-200 dark:hover:bg-gray-700 dark:focus:bg-gray-700",role:"menuitem","data-dropdown-item":"",onClick:u}),{default:h(()=>[M(o.$slots,"default")]),_:3},16))}},oe={class:"h-16 sticky top-0 z-30 flex items-center justify-between gap-3 border-b border-gray-200 bg-white px-4 dark:border-gray-800 dark:bg-gray-900"},ne={class:"flex items-center gap-2"},le={class:"flex items-center gap-2"},ae=["aria-expanded"],ie={class:"hidden sm:inline"},de={class:"h-6 w-6 rounded-full bg-indigo-500 inline-flex items-center justify-center text-white text-xs"},ue={__name:"Navbar",props:{dark:{type:Boolean,default:!1}},setup(r){const i=Y(),s=V(),c=b(()=>s.user??{name:"Admin"}),e=b(()=>(c.value.name||"A").split(" ").map(u=>u[0]).join("").slice(0,2).toUpperCase());function g(){s.logout?.(),i.replace("/")}return(u,o)=>(n(),a("header",oe,[t("div",ne,[t("button",{class:"md:hidden inline-flex h-9 w-9 items-center justify-center rounded-md border border-gray-300 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:border-gray-700 dark:hover:bg-gray-800 dark:focus:ring-indigo-400",onClick:o[0]||(o[0]=v=>u.$emit("toggle-sidebar")),"aria-label":"Ouvrir le menu"},[...o[1]||(o[1]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M4 6h16v2H4V6zm0 5h16v2H4v-2zm0 5h16v2H4v-2z"})],-1)])]),m(f(I),{to:"/",class:"md:hidden text-sm font-semibold"},{default:h(()=>[...o[2]||(o[2]=[y("Edulink",-1)])]),_:1})]),t("div",le,[m(re,{align:"right"},{trigger:h(({open:v})=>[t("button",{class:"inline-flex items-center gap-2 rounded-md border border-gray-300 px-3 py-1.5 text-sm hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:border-gray-700 dark:hover:bg-gray-800 dark:focus:ring-indigo-400","aria-expanded":v.toString()},[t("span",ie,w(c.value.name),1),t("span",de,w(e.value),1),o[3]||(o[3]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 opacity-70",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M7 10l5 5 5-5z"})],-1))],8,ae)]),default:h(()=>[m(z,{as:"RouterLink",to:"/profile"},{default:h(()=>[...o[4]||(o[4]=[y(" Profil ",-1)])]),_:1}),m(z,{as:"RouterLink",to:"/settings"},{default:h(()=>[...o[5]||(o[5]=[y(" Paramètres ",-1)])]),_:1}),o[7]||(o[7]=t("div",{class:"my-1 border-t border-gray-200 dark:border-gray-700"},null,-1)),m(z,{onSelect:g},{default:h(()=>[...o[6]||(o[6]=[y(" Déconnexion ",-1)])]),_:1})]),_:1})])]))}},ce={__name:"AppIcon",props:{name:{type:String,required:!0},class:{type:String,default:""}},setup(r){const s=r.class||"h-5 w-5";return(c,e)=>r.name==="home"?(n(),a("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",class:p(f(s)),viewBox:"0 0 24 24",fill:"currentColor"},[...e[0]||(e[0]=[t("path",{d:"M3 12l9-9 9 9-1.5 1.5L12 5.5 4.5 13.5 3 12z"},null,-1),t("path",{d:"M4.5 13.5V21h6v-5h3v5h6v-7.5L12 6z"},null,-1)])],2)):r.name==="users"?(n(),a("svg",{key:1,xmlns:"http://www.w3.org/2000/svg",class:p(f(s)),viewBox:"0 0 24 24",fill:"currentColor"},[...e[1]||(e[1]=[t("path",{d:"M16 11a3 3 0 100-6 3 3 0 000 6zM8 11a3 3 0 100-6 3 3 0 000 6z"},null,-1),t("path",{d:"M8 13c-2.67 0-8 1.34-8 4v3h12v-3c0-2.66-5.33-4-8-4zm16 4c0-2.66-5.33-4-8-4-.7 0-1.37.04-2 .12 2.39 1.03 4 2.58 4 4.88v3h6v-4z"},null,-1)])],2)):r.name==="student"?(n(),a("svg",{key:2,xmlns:"http://www.w3.org/2000/svg",class:p(f(s)),viewBox:"0 0 24 24",fill:"currentColor"},[...e[2]||(e[2]=[t("path",{d:"M12 3l9 4.5-9 4.5L3 7.5 12 3z"},null,-1),t("path",{d:"M4.5 8.5V12c0 3.5 3.5 6.5 7.5 6.5s7.5-3 7.5-6.5V8.5L12 11z"},null,-1)])],2)):r.name==="classroom"?(n(),a("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",class:p(f(s)),viewBox:"0 0 24 24",fill:"currentColor"},[...e[3]||(e[3]=[t("path",{d:"M4 6h16v10H4z"},null,-1),t("path",{d:"M2 18h20v2H2zM7 8h6v2H7z"},null,-1)])],2)):r.name==="book"?(n(),a("svg",{key:4,xmlns:"http://www.w3.org/2000/svg",class:p(f(s)),viewBox:"0 0 24 24",fill:"currentColor"},[...e[4]||(e[4]=[t("path",{d:"M6 4h9a3 3 0 013 3v11H9a3 3 0 00-3 3V4z"},null,-1),t("path",{d:"M9 18h9"},null,-1)])],2)):r.name==="task"?(n(),a("svg",{key:5,xmlns:"http://www.w3.org/2000/svg",class:p(f(s)),viewBox:"0 0 24 24",fill:"currentColor"},[...e[5]||(e[5]=[t("path",{d:"M9 11l3 3L21 5l-2-2-7 7-3-3-2 2z"},null,-1),t("path",{d:"M3 21h18v-2H3v2z"},null,-1)])],2)):r.name==="quiz"?(n(),a("svg",{key:6,xmlns:"http://www.w3.org/2000/svg",class:p(f(s)),viewBox:"0 0 24 24",fill:"currentColor"},[...e[6]||(e[6]=[t("path",{d:"M12 2a10 10 0 100 20 10 10 0 000-20zM11 17h2v-2h-2v2zm1-11a3 3 0 00-3 3h2a1 1 0 112 0c0 .7-.64 1.16-1.5 1.75C10.45 11.45 10 12 10 13v1h2v-1c0-.5.11-.69.5-1 1.16-.9 2.5-1.84 2.5-3.5A3 3 0 0012 6z"},null,-1)])],2)):r.name==="calendar"?(n(),a("svg",{key:7,xmlns:"http://www.w3.org/2000/svg",class:p(f(s)),viewBox:"0 0 24 24",fill:"currentColor"},[...e[7]||(e[7]=[t("path",{d:"M7 2v2H5a2 2 0 00-2 2v2h18V6a2 2 0 00-2-2h-2V2h-2v2H9V2H7z"},null,-1),t("path",{d:"M21 10H3v10a2 2 0 002 2h14a2 2 0 002-2V10z"},null,-1)])],2)):r.name==="shield"?(n(),a("svg",{key:8,xmlns:"http://www.w3.org/2000/svg",class:p(f(s)),viewBox:"0 0 24 24",fill:"currentColor"},[...e[8]||(e[8]=[t("path",{d:"M12 2l8 4v6c0 5-3.5 9.74-8 11-4.5-1.26-8-6-8-11V6l8-4z"},null,-1),t("path",{d:"M12 6v12"},null,-1)])],2)):r.name==="plus"?(n(),a("svg",{key:9,xmlns:"http://www.w3.org/2000/svg",class:p(f(s)),viewBox:"0 0 24 24",fill:"currentColor"},[...e[9]||(e[9]=[t("path",{d:"M11 5h2v6h6v2h-6v6h-2v-6H5v-2h6z"},null,-1)])],2)):N("",!0)}},ge={__name:"NavItem",props:{to:{type:String,required:!0},prefix:{type:String,required:!0},label:{type:String,required:!0},icon:{type:String,default:""}},emits:["navigate"],setup(r){const i=r,s=Q(),c=b(()=>s.path.startsWith(i.prefix)),e=b(()=>["group flex items-center gap-2 rounded-md px-3 py-2 text-sm font-medium transition-colors",c.value?"bg-indigo-50 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-300":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800"]);return(g,u)=>(n(),C(f(I),{to:r.to,class:p(e.value),onClick:u[0]||(u[0]=o=>g.$emit("navigate"))},{default:h(()=>[r.icon?(n(),C(ce,{key:0,name:r.icon,class:"h-5 w-5"},null,8,["name"])):N("",!0),t("span",null,w(r.label),1)]),_:1},8,["to","class"]))}},fe={class:"h-full flex flex-col"},pe={class:"px-4 h-16 flex items-center border-b border-gray-200 dark:border-gray-800"},me={class:"flex-1 overflow-y-auto py-3"},ve={class:"px-2 mb-2 text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400"},he={class:"space-y-1"},R={__name:"Sidebar",setup(r){const i=[{title:"Général",items:[{to:"/dashboard",prefix:"/dashboard",label:"Tableau de bord",icon:"home",roles:[l.ADMIN_GENERALE,l.ADMIN_ECOLE,l.PROFESSEUR,l.ELEVE]},{to:"/professeurs",prefix:"/professeurs",label:"Professeurs",icon:"users",roles:[l.ADMIN_GENERALE,l.ADMIN_ECOLE]},{to:"/etudiants",prefix:"/etudiants",label:"Étudiants",icon:"student",roles:[l.ADMIN_GENERALE,l.ADMIN_ECOLE]},{to:"/classes",prefix:"/classes",label:"Classes",icon:"classroom",roles:[l.ADMIN_GENERALE,l.ADMIN_ECOLE,l.PROFESSEUR]},{to:"/setup",prefix:"/setup",label:"Configuration",icon:"task",roles:[l.ADMIN_GENERALE,l.ADMIN_ECOLE]}]},{title:"Pédagogie",items:[{to:"/cours",prefix:"/cours",label:"Cours",icon:"book"},{to:"/devoirs",prefix:"/devoirs",label:"Devoirs",icon:"task"},{to:"/interros",prefix:"/interros",label:"Interrogations",icon:"quiz"}]},{title:"Périodicité",items:[{to:"/admin/periodes",prefix:"/admin/periodes",label:"Périodes",icon:"calendar",roles:[l.ADMIN_GENERALE,l.ADMIN_ECOLE]},{to:"/admin/semestres",prefix:"/admin/semestres",label:"Semestres",icon:"calendar",roles:[l.ADMIN_GENERALE,l.ADMIN_ECOLE]}]},{title:"Administration",items:[{to:"/admin/utilisateurs",prefix:"/admin/utilisateurs",label:"Utilisateurs",icon:"shield",roles:[l.ADMIN_GENERALE]},{to:"/admin/creer-compte",prefix:"/admin/creer-compte",label:"Créer un compte",icon:"plus",roles:[l.ADMIN_GENERALE]},{to:"/admin/ecoles",prefix:"/admin/ecoles",label:"Écoles",icon:"shield",roles:[l.ADMIN_GENERALE]}]}],s=V(),c=b(()=>s.user?.role||"gestion"),e=b(()=>i.map(u=>({...u,items:u.items.filter(o=>o.roles?o.roles.includes(c.value):!0)})).filter(u=>u.items.length>0));function g(){}return(u,o)=>(n(),a("div",fe,[t("div",pe,[m(f(I),{to:"/",class:"flex items-center gap-2 text-lg font-semibold"},{default:h(()=>[...o[0]||(o[0]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M12 3l8 4.5v9L12 21l-8-4.5v-9L12 3zm0 2.309L6 8v8l6 3.309L18 16V8l-6-2.691z"})],-1),t("span",null,"Edulink",-1)])]),_:1})]),t("nav",me,[(n(!0),a(D,null,B(e.value,v=>(n(),a("div",{key:v.title,class:"px-3 py-2"},[t("div",ve,w(v.title),1),t("div",he,[(n(!0),a(D,null,B(v.items,x=>(n(),C(ge,{key:x.to,to:x.to,prefix:x.prefix,label:x.label,icon:x.icon,onNavigate:g},null,8,["to","prefix","label","icon"]))),128))])]))),128))])]))}},xe={class:"w-full border-t border-gray-200 bg-white px-4 py-3 text-xs text-gray-500 dark:border-gray-800 dark:bg-gray-900 dark:text-gray-400"},we={class:"flex flex-col sm:flex-row items-center justify-between gap-2"},be={class:"font-semibold"},ye={__name:"AppFooter",props:{appName:{type:String,default:"Edulink"},version:{type:String,default:"1.0"}},setup(r){return(i,s)=>(n(),a("footer",xe,[t("div",we,[t("p",null,[y(" © "+w(new Date().getFullYear())+" ",1),t("span",be,w(r.appName),1),s[0]||(s[0]=y(". Tous droits réservés. ",-1))]),t("p",null," v"+w(r.version),1)])]))}},ke={class:"h-screen bg-slate-50 dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100"},Ee={class:"flex h-full"},_e={class:"hidden md:block w-64 lg:w-72 shrink-0 border-r border-gray-200 dark:border-neutral-800"},Me={class:"absolute inset-y-0 left-0 w-72 bg-white dark:bg-neutral-900 border-r border-gray-200 dark:border-neutral-800 shadow-xl"},Ce={class:"flex-1 min-w-0 flex flex-col min-h-0"},Ne={class:"flex-1 min-h-0 overflow-auto"},Ae={__name:"AppLayout",setup(r){const i=k(!1);k(!1);function s(){i.value=!1}return(c,e)=>(n(),a("div",ke,[t("div",Ee,[t("aside",_e,[m(R,{onNavigate:s})]),m(O,{name:"fade"},{default:h(()=>[i.value?(n(),a("div",{key:0,class:"fixed inset-0 z-40 bg-black/50 md:hidden",onClick:e[1]||(e[1]=_(g=>i.value=!1,["self"]))},[t("aside",Me,[m(R,{onNavigate:e[0]||(e[0]=g=>i.value=!1)})])])):N("",!0)]),_:1}),t("div",Ce,[m(ue,{onToggleSidebar:e[2]||(e[2]=g=>i.value=!0)}),t("main",Ne,[M(c.$slots,"default",{},void 0,!0)]),m(ye,{appName:"Edulink",version:"1.0"})])])]))}},$e=H(Ae,[["__scopeId","data-v-d66be62c"]]);export{$e as A};
