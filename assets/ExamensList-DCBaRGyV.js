import{r as m,i as N,f as E,g as p,o as R,a as r,h as f,w as l,j as b,d as n,v as i}from"./index-CgkLHWAA.js";import{A as z,_ as F}from"./AppLayout-Cj5fvSVX.js";import{_ as K,a as L}from"./CrudModal-Cg6CkTtY.js";import{_ as I}from"./DataTable-Ce5GLHUA.js";const P={class:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors"},j={class:"mx-auto max-w-6xl p-4 sm:p-6"},J={class:"rounded-xl border border-gray-200 bg-white p-3 shadow-sm dark:border-gray-700 dark:bg-gray-900"},O={class:"grid gap-3 sm:grid-cols-2"},Q={class:"text-gray-700 dark:text-gray-200"},_={class:"text-gray-700 dark:text-gray-200"},G={class:"text-gray-700 dark:text-gray-200"},H={class:"text-gray-700 dark:text-gray-200"},W={class:"text-gray-700 dark:text-gray-200"},X={class:"text-gray-700 dark:text-gray-200"},Y={class:"text-gray-700 dark:text-gray-200"},ae={__name:"ExamensList",setup(Z){const w=[{key:"matricule",label:"Matricule"},{key:"nom",label:"Nom"},{key:"prenom",label:"Prénom"},{key:"classe",label:"Classe"},{key:"tuteur",label:"Tuteur"},{key:"telephone",label:"Téléphone"},{key:"statut",label:"Statut"}],a=m({q:"",classe:"",statut:""}),c=m([]),k=m([]),u=m(!1),o=m({id:null,matricule:"",nom:"",prenom:"",classe:"",tuteur:"",telephone:"",statut:"Actif"});function x(){c.value=U(),g()}function h(){o.value={id:null,matricule:"",nom:"",prenom:"",classe:"",tuteur:"",telephone:"",statut:"Actif"},u.value=!0}function V(d){o.value={...d},u.value=!0}async function $(){o.value.id?await S():await C(),u.value=!1,x()}async function C(){}async function S(){}async function A(d){c.value=c.value.filter(e=>e.id!==d.id),g()}function T(){a.value={q:"",classe:"",statut:""},g()}function y(d){return String(d||"").toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"")}function g(){const d=y(a.value.q),e=y(a.value.classe),t=a.value.statut;k.value=c.value.filter(s=>{const M=y(`${s.matricule} ${s.nom} ${s.prenom} ${s.classe} ${s.tuteur} ${s.telephone} ${s.statut}`),q=d?M.includes(d):!0,B=e?y(s.classe).includes(e):!0,D=t?s.statut===t:!0;return q&&B&&D})}let v;N(a,()=>{clearTimeout(v),v=setTimeout(g,150)},{deep:!0});function U(){return[{id:1,matricule:"ETD001",nom:"Kazi",prenom:"Mira",classe:"6ème A",tuteur:"Mme K.",telephone:"+243 970 000 001",statut:"Actif"},{id:2,matricule:"ETD002",nom:"Banza",prenom:"Joël",classe:"6ème A",tuteur:"M. B.",telephone:"+243 970 000 002",statut:"Suspendu"},{id:3,matricule:"ETD003",nom:"Ilunga",prenom:"Sarah",classe:"6ème B",tuteur:"Mme I.",telephone:"+243 970 000 003",statut:"Actif"}]}return x(),(d,e)=>(R(),E(z,null,{default:p(()=>[r("div",P,[r("div",j,[f(F,{title:"Étudiants"},{actions:p(()=>[r("button",{class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-indigo-500 dark:hover:bg-indigo-600 dark:focus:ring-indigo-400",onClick:e[0]||(e[0]=t=>h())}," Nouveau ")]),_:1}),f(K,{modelValue:a.value,"onUpdate:modelValue":e[3]||(e[3]=t=>a.value=t),onReset:T},{default:p(()=>[l(r("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>a.value.classe=t),class:"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},[...e[12]||(e[12]=[r("option",{value:""},"Classe",-1),r("option",null,"6ème A",-1),r("option",null,"6ème B",-1)])],512),[[b,a.value.classe]]),l(r("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>a.value.statut=t),class:"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},[...e[13]||(e[13]=[r("option",{value:""},"Statut",-1),r("option",null,"Actif",-1),r("option",null,"Suspendu",-1)])],512),[[b,a.value.statut]]),r("button",{class:"rounded-md border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 dark:focus:ring-indigo-400",onClick:g}," Filtrer ")]),_:1},8,["modelValue"]),r("div",J,[f(I,{rows:k.value,headers:w,idKey:"id",onEdit:V,onRemove:A},null,8,["rows"])]),f(L,{open:u.value,title:o.value.id?"Modifier étudiant":"Créer étudiant",onClose:e[11]||(e[11]=t=>u.value=!1),onSubmit:$},{default:p(()=>[r("div",O,[r("label",Q,[e[14]||(e[14]=n(" Matricule ",-1)),l(r("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.value.matricule=t),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[i,o.value.matricule]])]),r("label",_,[e[15]||(e[15]=n(" Nom ",-1)),l(r("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>o.value.nom=t),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[i,o.value.nom]])]),r("label",G,[e[16]||(e[16]=n(" Prénom ",-1)),l(r("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.value.prenom=t),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[i,o.value.prenom]])]),r("label",H,[e[17]||(e[17]=n(" Classe ",-1)),l(r("input",{"onUpdate:modelValue":e[7]||(e[7]=t=>o.value.classe=t),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[i,o.value.classe]])]),r("label",W,[e[18]||(e[18]=n(" Tuteur ",-1)),l(r("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.value.tuteur=t),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},null,512),[[i,o.value.tuteur]])]),r("label",X,[e[19]||(e[19]=n(" Téléphone ",-1)),l(r("input",{"onUpdate:modelValue":e[9]||(e[9]=t=>o.value.telephone=t),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},null,512),[[i,o.value.telephone]])]),r("label",Y,[e[21]||(e[21]=n(" Statut ",-1)),l(r("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.value.statut=t),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},[...e[20]||(e[20]=[r("option",null,"Actif",-1),r("option",null,"Suspendu",-1)])],512),[[b,o.value.statut]])])])]),_:1},8,["open","title"])])])]),_:1}))}};export{ae as default};
