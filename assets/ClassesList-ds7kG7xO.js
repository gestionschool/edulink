import{r as f,i as B,f as R,g as b,o as _,a as r,h as y,w as d,j as x,d as n,v as s}from"./index-CgkLHWAA.js";import{A,_ as D}from"./AppLayout-Cj5fvSVX.js";import{_ as E,a as O}from"./CrudModal-Cg6CkTtY.js";import{_ as z}from"./DataTable-Ce5GLHUA.js";const K={class:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors"},j={class:"mx-auto max-w-6xl p-4 sm:p-6"},I={class:"rounded-xl border border-gray-200 bg-white p-3 shadow-sm dark:border-gray-700 dark:bg-gray-900"},Q={class:"grid gap-3 sm:grid-cols-2"},G={class:"text-gray-700 dark:text-gray-200"},H={class:"text-gray-700 dark:text-gray-200"},J={class:"text-gray-700 dark:text-gray-200"},P={class:"text-gray-700 dark:text-gray-200"},W={class:"text-gray-700 dark:text-gray-200"},X={class:"text-gray-700 dark:text-gray-200"},ae={__name:"ClassesList",setup(Y){const w=[{key:"code",label:"Code"},{key:"libelle",label:"Libellé"},{key:"niveau",label:"Niveau"},{key:"filiere",label:"Filière"},{key:"effectif",label:"Effectif"},{key:"titulaire",label:"Titulaire"}],o=f({q:"",niveau:"",filiere:""}),c=f([]),m=f([]),u=f(!1),a=f({id:null,code:"",libelle:"",niveau:"",filiere:"",effectif:0,titulaire:""});function p(){c.value=L(),g()}function h(){a.value={id:null,code:"",libelle:"",niveau:"",filiere:"",effectif:0,titulaire:""},u.value=!0}function V(t){a.value={...t},u.value=!0}async function C(){a.value.id?await N():await $(),u.value=!1,p()}async function $(){}async function N(){}async function q(t){c.value=c.value.filter(e=>e.id!==t.id),g()}function F(){o.value={q:"",niveau:"",filiere:""},g()}function v(t){return String(t||"").toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"")}function g(){const t=v(o.value.q),e=o.value.niveau,i=o.value.filiere;m.value=c.value.filter(l=>{const U=v(`${l.code} ${l.libelle} ${l.niveau} ${l.filiere} ${l.titulaire}`),S=t?U.includes(t):!0,T=e?String(l.niveau)===String(e):!0,M=i?l.filiere===i:!0;return S&&T&&M})}let k;B(o,()=>{clearTimeout(k),k=setTimeout(g,150)},{deep:!0});function L(){return[{id:1,code:"6A",libelle:"6ème A",niveau:"6",filiere:"Scientifique",effectif:42,titulaire:"M. Kasa"},{id:2,code:"1L",libelle:"1ère L",niveau:"1",filiere:"Littéraire",effectif:35,titulaire:"Mme Tumba"},{id:3,code:"6B",libelle:"6ème B",niveau:"6",filiere:"Scientifique",effectif:40,titulaire:"M. Ilunga"}]}return p(),(t,e)=>(_(),R(A,null,{default:b(()=>[r("div",K,[r("div",j,[y(D,{title:"Classes"},{actions:b(()=>[r("button",{class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-indigo-500 dark:hover:bg-indigo-600 dark:focus:ring-indigo-400",onClick:e[0]||(e[0]=i=>h())}," Nouvelle ")]),_:1}),y(E,{modelValue:o.value,"onUpdate:modelValue":e[3]||(e[3]=i=>o.value=i),onReset:F},{default:b(()=>[d(r("select",{"onUpdate:modelValue":e[1]||(e[1]=i=>o.value.niveau=i),class:"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},[...e[11]||(e[11]=[r("option",{value:""},"Niveau",-1),r("option",null,"1",-1),r("option",null,"6",-1)])],512),[[x,o.value.niveau]]),d(r("select",{"onUpdate:modelValue":e[2]||(e[2]=i=>o.value.filiere=i),class:"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},[...e[12]||(e[12]=[r("option",{value:""},"Filière/Option",-1),r("option",null,"Scientifique",-1),r("option",null,"Littéraire",-1)])],512),[[x,o.value.filiere]]),r("button",{class:"rounded-md border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 dark:focus:ring-indigo-400",onClick:g}," Filtrer ")]),_:1},8,["modelValue"]),r("div",I,[y(z,{rows:m.value,headers:w,idKey:"id",onEdit:V,onRemove:q},null,8,["rows"])]),y(O,{open:u.value,title:a.value.id?"Modifier classe":"Créer classe",onClose:e[10]||(e[10]=i=>u.value=!1),onSubmit:C},{default:b(()=>[r("div",Q,[r("label",G,[e[13]||(e[13]=n(" Code ",-1)),d(r("input",{"onUpdate:modelValue":e[4]||(e[4]=i=>a.value.code=i),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[s,a.value.code]])]),r("label",H,[e[14]||(e[14]=n(" Libellé ",-1)),d(r("input",{"onUpdate:modelValue":e[5]||(e[5]=i=>a.value.libelle=i),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[s,a.value.libelle]])]),r("label",J,[e[15]||(e[15]=n(" Niveau ",-1)),d(r("input",{"onUpdate:modelValue":e[6]||(e[6]=i=>a.value.niveau=i),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},null,512),[[s,a.value.niveau]])]),r("label",P,[e[16]||(e[16]=n(" Filière/Option ",-1)),d(r("input",{"onUpdate:modelValue":e[7]||(e[7]=i=>a.value.filiere=i),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},null,512),[[s,a.value.filiere]])]),r("label",W,[e[17]||(e[17]=n(" Effectif ",-1)),d(r("input",{"onUpdate:modelValue":e[8]||(e[8]=i=>a.value.effectif=i),type:"number",min:"0",class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},null,512),[[s,a.value.effectif,void 0,{number:!0}]])]),r("label",X,[e[18]||(e[18]=n(" Titulaire ",-1)),d(r("input",{"onUpdate:modelValue":e[9]||(e[9]=i=>a.value.titulaire=i),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},null,512),[[s,a.value.titulaire]])])])]),_:1},8,["open","title"])])])]),_:1}))}};export{ae as default};
