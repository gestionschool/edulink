import{u as f}from"./school-D6Cy93US.js";import{_ as k}from"./PageHeader-D6nut-bz.js";import{_ as w}from"./DataTable-DtU7qz5G.js";import{A as S}from"./AppLayout-BRMBkRdv.js";import{c as $,o as m,a as s,t as u,f as r,g as C,h as E,i as o}from"./index-sHYk9eTQ.js";const B={class:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm dark:border-gray-700 dark:bg-gray-900"},D={class:"text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400"},A={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-gray-100"},l={__name:"StatCard",props:{label:{type:String,required:!0},value:{type:[String,Number],required:!0}},setup(n){return(a,d)=>(m(),$("div",B,[s("div",D,u(n.label),1),s("div",A,u(n.value),1)]))}},I={class:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors"},N={class:"mx-auto max-w-6xl grid gap-4 p-4 sm:p-6"},P={class:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4"},R={class:"rounded-xl border border-gray-200 bg-white p-3 shadow-sm dark:border-gray-700 dark:bg-gray-900 gap-4"},K={__name:"DashboardHome",setup(n){const a=f(),d=[{key:"titre",label:"Examen"},{key:"classe",label:"Classe"},{key:"date",label:"Date"}],i=new Date().toISOString().slice(0,10),g=r(()=>{const e=a.periodes.filter(t=>t.active).map(t=>t.id);return e.length?e:a.periodes.map(t=>t.id)}),p=r(()=>a.students.length),b=r(()=>a.teachers.length),_=r(()=>a.cours.filter(e=>g.value.includes(e.periodeId)).length),v=r(()=>a.examens.filter(e=>e.date>=i).length),c=r(()=>a.examensView.filter(e=>e.date>=i).sort((e,t)=>e.date.localeCompare(t.date)).slice(0,6).map(e=>({id:e.id,titre:e.titre,classe:e.classe,date:h(e.date)})));console.log(c.value);function h(e){if(!e)return"";const[t,x,y]=e.split("-");return`${y}/${x}/${t}`}return(e,t)=>(m(),C(S,null,{default:E(()=>[s("div",I,[s("div",N,[o(k,{title:"Tableau de bord"}),s("div",P,[o(l,{label:"Étudiants",value:p.value},null,8,["value"]),o(l,{label:"Professeurs",value:b.value},null,8,["value"]),o(l,{label:"Cours actifs",value:_.value},null,8,["value"]),o(l,{label:"Examens à venir",value:v.value},null,8,["value"])]),s("div",R,[t[0]||(t[0]=s("h2",{class:"font-semibold mb-2 text-gray-900 dark:text-gray-100"},"Prochains examens",-1)),o(w,{rows:c.value,headers:d,idKey:"id",onEdit:()=>{},onRemove:()=>{}},null,8,["rows"])])])])]),_:1}))}};export{K as default};
