import{r as f,i as D,f as K,g as m,o as I,a as r,h as y,w as i,j as c,d as l,v as n}from"./index-CgkLHWAA.js";import{A as L,_ as S}from"./AppLayout-Cj5fvSVX.js";import{_ as z,a as E}from"./CrudModal-Cg6CkTtY.js";import{_ as O}from"./DataTable-Ce5GLHUA.js";const j={class:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors"},G={class:"mx-auto max-w-6xl p-4 sm:p-6"},H={class:"rounded-xl border border-gray-200 bg-white p-3 shadow-sm dark:border-gray-700 dark:bg-gray-900"},Q={class:"grid gap-3 sm:grid-cols-2"},Y={class:"text-gray-700 dark:text-gray-200"},_={class:"text-gray-700 dark:text-gray-200"},J={class:"text-gray-700 dark:text-gray-200"},W={class:"text-gray-700 dark:text-gray-200"},X={class:"text-gray-700 dark:text-gray-200"},Z={class:"text-gray-700 dark:text-gray-200"},se={__name:"CoursList",setup(ee){const h=[{key:"code",label:"Code"},{key:"intitule",label:"Intitulé"},{key:"classe",label:"Classe"},{key:"professeur",label:"Professeur"},{key:"volume",label:"Volume h."},{key:"periode",label:"Période"}],d=f({q:"",professeur:"",classe:"",periode:""}),p=f([]),b=f([]),u=f(!1),a=f({id:null,code:"",intitule:"",classe:"",professeur:"",volume:0,periode:""});function k(){p.value=N(),g()}function V(){a.value={id:null,code:"",intitule:"",classe:"",professeur:"",volume:0,periode:""},u.value=!0}function C(s){a.value={...s},u.value=!0}async function P(){a.value.id?await T():await $(),u.value=!1,k()}async function $(){}async function T(){}async function U(s){p.value=p.value.filter(e=>e.id!==s.id),g()}function q(){d.value={q:"",professeur:"",classe:"",periode:""},g()}function v(s){return String(s||"").toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"")}function g(){const s=v(d.value.q),e=d.value.professeur,o=d.value.classe,w=d.value.periode;b.value=p.value.filter(t=>{const A=v(`${t.code} ${t.intitule} ${t.classe} ${t.professeur} ${t.periode} ${t.volume}`),F=s?A.includes(s):!0,R=e?t.professeur===e:!0,B=o?t.classe===o:!0,M=w?t.periode===w:!0;return F&&R&&B&&M})}let x;D(d,()=>{clearTimeout(x),x=setTimeout(g,150)},{deep:!0});function N(){return[{id:1,code:"MAT101",intitule:"Math Générales",classe:"6ème A",professeur:"Kabeya",volume:48,periode:"Trimestre 1"},{id:2,code:"PHY102",intitule:"Physique I",classe:"6ème B",professeur:"Ngoma",volume:36,periode:"Trimestre 1"},{id:3,code:"FRN103",intitule:"Français Oral",classe:"6ème A",professeur:"Kabeya",volume:24,periode:"Trimestre 2"}]}return k(),(s,e)=>(I(),K(L,null,{default:m(()=>[r("div",j,[r("div",G,[y(S,{title:"Cours"},{actions:m(()=>[r("button",{class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-indigo-500 dark:hover:bg-indigo-600 dark:focus:ring-indigo-400",onClick:e[0]||(e[0]=o=>V())}," Nouveau ")]),_:1}),y(z,{modelValue:d.value,"onUpdate:modelValue":e[4]||(e[4]=o=>d.value=o),onReset:q},{default:m(()=>[i(r("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>d.value.professeur=o),class:"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},[...e[12]||(e[12]=[r("option",{value:""},"Professeur",-1),r("option",null,"Kabeya",-1),r("option",null,"Ngoma",-1)])],512),[[c,d.value.professeur]]),i(r("select",{"onUpdate:modelValue":e[2]||(e[2]=o=>d.value.classe=o),class:"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},[...e[13]||(e[13]=[r("option",{value:""},"Classe",-1),r("option",null,"6ème A",-1),r("option",null,"6ème B",-1)])],512),[[c,d.value.classe]]),i(r("select",{"onUpdate:modelValue":e[3]||(e[3]=o=>d.value.periode=o),class:"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},[...e[14]||(e[14]=[r("option",{value:""},"Période",-1),r("option",null,"Trimestre 1",-1),r("option",null,"Trimestre 2",-1),r("option",null,"Trimestre 3",-1)])],512),[[c,d.value.periode]]),r("button",{class:"rounded-md border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 dark:focus:ring-indigo-400",onClick:g}," Filtrer ")]),_:1},8,["modelValue"]),r("div",H,[y(O,{rows:b.value,headers:h,idKey:"id",onEdit:C,onRemove:U},null,8,["rows"])]),y(E,{open:u.value,title:a.value.id?"Modifier cours":"Créer cours",onClose:e[11]||(e[11]=o=>u.value=!1),onSubmit:P},{default:m(()=>[r("div",Q,[r("label",Y,[e[15]||(e[15]=l(" Code ",-1)),i(r("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>a.value.code=o),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[n,a.value.code]])]),r("label",_,[e[16]||(e[16]=l(" Intitulé ",-1)),i(r("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>a.value.intitule=o),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[n,a.value.intitule]])]),r("label",J,[e[17]||(e[17]=l(" Classe ",-1)),i(r("input",{"onUpdate:modelValue":e[7]||(e[7]=o=>a.value.classe=o),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[n,a.value.classe]])]),r("label",W,[e[18]||(e[18]=l(" Professeur ",-1)),i(r("input",{"onUpdate:modelValue":e[8]||(e[8]=o=>a.value.professeur=o),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400",required:""},null,512),[[n,a.value.professeur]])]),r("label",X,[e[19]||(e[19]=l(" Volume horaire ",-1)),i(r("input",{"onUpdate:modelValue":e[9]||(e[9]=o=>a.value.volume=o),type:"number",min:"1",class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},null,512),[[n,a.value.volume,void 0,{number:!0}]])]),r("label",Z,[e[20]||(e[20]=l(" Période ",-1)),i(r("input",{"onUpdate:modelValue":e[10]||(e[10]=o=>a.value.periode=o),class:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:border-indigo-400 dark:focus:ring-indigo-400"},null,512),[[n,a.value.periode]])])])]),_:1},8,["open","title"])])])]),_:1}))}};export{se as default};
